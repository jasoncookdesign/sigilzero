(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32806,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(57688);function s({src:e,alt:s,width:l,height:i,placeholderText:o,className:n,fill:d,objectFit:c="cover"}){var m;let u,x,g,h,p,b,f,v,y,j,N,[w,C]=(0,a.useState)(!1),S=!e||""===e.trim()||w,M=S?(u=Math.max(10,Math.min(4e3,Math.floor((m={width:l,height:i,format:"svg",background:"1a1a1a",color:"666666",text:o||`${l}x${i}`}).width))),g=(x=m.height?Math.max(10,Math.min(4e3,Math.floor(m.height))):void 0)?`${u}x${x}`:`${u}`,h=m.format??"png",p=m.background??"EEE",b=m.color??"31343C",f=`.${h}`,v=`${encodeURIComponent(String(p))}/${encodeURIComponent(String(b))}`,y=`https://placehold.co/${g}/${v}${f}`,j=new URLSearchParams,m.text&&j.set("text",String(m.text)),m.font&&j.set("font",String(m.font)),m.retina&&"svg"!==h&&j.set("@",`${m.retina}x`),(N=j.toString())&&(y+=`?${N}`),y):e;return d?(0,t.jsx)(r.default,{src:M,alt:s,fill:!0,className:n,style:{objectFit:c},onError:()=>!S&&C(!0),unoptimized:S}):(0,t.jsx)(r.default,{src:M,alt:s,width:l,height:i,className:n,style:{objectFit:c},onError:()=>!S&&C(!0),unoptimized:S})}e.s(["default",()=>s],32806)},39964,e=>{"use strict";var t=e.i(43476),a=e.i(22016);function r({href:e,children:r,"data-testid":s}){let l=(0,t.jsx)("div",{className:"card",children:r});return e?(0,t.jsx)(a.default,{href:e,className:"block text-inherit no-underline","data-testid":s,children:l}):l}e.s(["Card",()=>r])},20738,e=>{"use strict";var t=e.i(43476),a=e.i(39964),r=e.i(32806);function s({mixtape:e,artist:s}){return(0,t.jsx)(a.Card,{href:`/mixtapes/${e.slug}`,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"relative w-full aspect-square overflow-hidden bg-gray-900",children:(0,t.jsx)(r.default,{src:e.cover_image,alt:e.title,width:400,height:400,fill:!0,placeholderText:e.title,className:"object-cover"})}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("h3",{className:"h-sm mb-2",children:e.title}),(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:e.date}),s&&(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.platform,e.event_name&&` \xb7 ${e.event_name}`,e.location&&` \xb7 ${e.location}`]})]})]})})}e.s(["default",()=>s])},68889,e=>{"use strict";var t=e.i(43476);function a({children:e,className:a=""}){return(0,t.jsx)("section",{className:`py-16 section-band ${a}`,children:e})}e.s(["default",()=>a])},18085,e=>{"use strict";var t=e.i(43476);function a({className:e="w-5 h-5"}){return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,className:e,children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.78584 3C4.24726 3 3 4.24726 3 5.78584C3 6.59295 3.28872 7.37343 3.81398 7.98623L6.64813 11.2927C7.73559 12.5614 8.33333 14.1773 8.33333 15.8483V18C8.33333 19.6569 9.67648 21 11.3333 21H12.6667C14.3235 21 15.6667 19.6569 15.6667 18V15.8483C15.6667 14.1773 16.2644 12.5614 17.3519 11.2927L20.186 7.98624C20.7113 7.37343 21 6.59294 21 5.78584C21 4.24726 19.7527 3 18.2142 3H5.78584Z"})})}e.s(["default",()=>a])},64643,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(20738),s=e.i(68889),l=e.i(18085);function i({mixtapes:e,artists:i}){let[o,n]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)("all"),[x,g]=(0,a.useState)("all"),[h,p]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[j,N]=(0,a.useState)("all"),w=(0,a.useMemo)(()=>Object.fromEntries(i.map(e=>[e.meta.id,e.meta])),[i]),C=(0,a.useMemo)(()=>i.map(e=>e.meta).sort((e,t)=>e.name.localeCompare(t.name)),[i]),S=(0,a.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.platform))).sort(),[e]),M=(0,a.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),$=(0,a.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),k=(0,a.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.tags))).sort(),[e]),A=(0,a.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.date).getFullYear()))).sort((e,t)=>t-e),[e]),F=(0,a.useMemo)(()=>{var t;let a;return t={query:o,artistIds:"all"===m?void 0:[m],platforms:"all"===x?void 0:[x],genres:h.length>0?h:void 0,moods:b.length>0?b:void 0,tags:v.length>0?v:void 0,year:"all"===j?void 0:parseInt(j,10)},a=t.query?.trim()??"",e.filter(({meta:e})=>(!a||!!function(e,t){let a=e.toLowerCase(),r=t.toLowerCase().trim();if(!r||a.includes(r))return!0;let s=0;for(let e=0;e<r.length;e++){let t=r.charAt(e),l=a.indexOf(t,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.event_name??"",e.location??"",e.artist_id].join(" "),a))&&(!t.artistIds||!(t.artistIds.length>0)||!!t.artistIds.includes(e.artist_id))&&(!t.platforms||!(t.platforms.length>0)||!!t.platforms.includes(e.platform))&&(!t.genres||!(t.genres.length>0)||!!e.genres.some(e=>t.genres.includes(e)))&&(!t.moods||!(t.moods.length>0)||!!e.moods.some(e=>t.moods.includes(e)))&&(!t.tags||!(t.tags.length>0)||!!e.tags.some(e=>t.tags.includes(e)))&&(!t.year||new Date(e.date).getFullYear()===t.year)&&!0)},[e,o,m,x,h,b,v,j]),I=o||"all"!==m||"all"!==x||h.length>0||b.length>0||v.length>0||"all"!==j,R=()=>{n(""),u("all"),g("all"),p([]),f([]),y([]),N("all")};return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"px-4 container-sigil sm:px-6 lg:px-8",children:[(0,t.jsx)("h1",{className:"mb-6 text-center text-white h-display","data-testid":"mixtapes-page-title",children:"Mixtapes"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search titles, events, locations, or artists...",value:o,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600"})}),(0,t.jsx)("div",{className:d?"mb-2":"mb-6",children:(0,t.jsxs)("button",{type:"button","aria-expanded":d,"aria-controls":"mixtapes-filters",onClick:()=>c(e=>!e),className:"flex items-center gap-2 text-xs font-medium tracking-wide text-gray-400 uppercase hover:text-white",children:[(0,t.jsx)(l.default,{className:"w-5 h-5"}),d?"Hide Filters":"More Filters"]})}),(0,t.jsxs)("div",{id:"mixtapes-filters",className:`${d?"":"hidden"} p-3 mb-4 bg-gray-950 border border-gray-800 rounded`,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)("select",{"aria-label":"Filter by artist",value:m,onChange:e=>u(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All artists"}),C.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by platform",value:x,onChange:e=>g(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All platforms"}),S.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{"aria-label":"Filter by year",value:j,onChange:e=>N(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All years"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),M.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(e=>(0,t.jsx)("button",{onClick:()=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${h.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),$.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Moods"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:$.map(e=>(0,t.jsx)("button",{onClick:()=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),k.length>0&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>(0,t.jsx)("button",{onClick:()=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${v.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]})]}),I&&(0,t.jsx)("div",{className:"p-3 mb-6 bg-gray-900 border border-gray-800 rounded",children:(0,t.jsxs)("div",{className:"flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:F.length})," of"," ",(0,t.jsx)("span",{className:"font-semibold",children:e.length})," mixtapes"]}),(0,t.jsx)("button",{onClick:R,className:"px-3 py-1 text-sm text-white transition-colors bg-gray-800 border border-gray-700 rounded hover:bg-gray-700",children:"Clear filters"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:F.map(({meta:e})=>{let a=w[e.artist_id]??null;return(0,t.jsx)(r.default,{mixtape:e,artist:a},e.id)})}),0===F.length&&(0,t.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No mixtapes match the current filters. ",(0,t.jsx)("button",{onClick:R,className:"underline hover:text-white",children:"Clear filters"})]})]})})}e.s(["default",()=>i],64643)}]);