(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68889,e=>{"use strict";var t=e.i(43476);function r({children:e,className:r=""}){return(0,t.jsx)("section",{className:`py-16 section-band ${r}`,children:e})}e.s(["default",()=>r])},32806,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(57688);function s({src:e,alt:s,width:l,height:i,placeholderText:n,className:o,fill:d,objectFit:c="cover"}){var m;let u,g,x,h,p,b,y,f,v,j,N,[w,M]=(0,r.useState)(!1),C=!e||""===e.trim()||w,S=C?(u=Math.max(10,Math.min(4e3,Math.floor((m={width:l,height:i,format:"svg",background:"1a1a1a",color:"666666",text:n||`${l}x${i}`}).width))),x=(g=m.height?Math.max(10,Math.min(4e3,Math.floor(m.height))):void 0)?`${u}x${g}`:`${u}`,h=m.format??"png",p=m.background??"EEE",b=m.color??"31343C",y=`.${h}`,f=`${encodeURIComponent(String(p))}/${encodeURIComponent(String(b))}`,v=`https://placehold.co/${x}/${f}${y}`,j=new URLSearchParams,m.text&&j.set("text",String(m.text)),m.font&&j.set("font",String(m.font)),m.retina&&"svg"!==h&&j.set("@",`${m.retina}x`),(N=j.toString())&&(v+=`?${N}`),v):e;return d?(0,t.jsx)(a.default,{src:S,alt:s,fill:!0,className:o,style:{objectFit:c},onError:()=>!C&&M(!0),unoptimized:C}):(0,t.jsx)(a.default,{src:S,alt:s,width:l,height:i,className:o,style:{objectFit:c},onError:()=>!C&&M(!0),unoptimized:C})}e.s(["default",()=>s],32806)},39964,e=>{"use strict";var t=e.i(43476),r=e.i(22016);function a({href:e,children:a}){let s=(0,t.jsx)("div",{className:"card",children:a});return e?(0,t.jsx)(r.default,{href:e,className:"block text-inherit no-underline",children:s}):s}e.s(["Card",()=>a])},97591,e=>{"use strict";var t=e.i(43476),r=e.i(39964),a=e.i(32806);function s(e){let t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t>r}function l({release:e,series:l}){var i;let n=s(i=e.release_date)?{type:"coming-soon",label:"Coming Soon"}:!function(e){let t=new Date(e),r=new Date;if(s(e))return!1;let a=new Date;return a.setDate(r.getDate()-30),t>=a}(i)?{type:null,label:""}:{type:"new-release",label:"New Release"};return(0,t.jsx)(r.Card,{href:`/releases/${e.slug}`,children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-900 aspect-square",children:[(0,t.jsx)(a.default,{src:e.cover_art,alt:e.title,width:400,height:400,fill:!0,placeholderText:e.catalog_number,className:"object-cover"}),n.type&&(0,t.jsx)("div",{className:`absolute top-3 right-3 px-3 py-1 text-xs font-medium border rounded ${"coming-soon"===n.type?"border-gray-400 text-gray-300 bg-black/40 backdrop-blur-sm":"border-gray-300 text-white bg-black/40 backdrop-blur-sm"}`,children:n.label})]}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"mb-2 text-label",children:e.catalog_number}),(0,t.jsx)("h3",{className:"mb-2 h-sm line-clamp-2",children:e.title}),(0,t.jsxs)("div",{className:"text-sm text-muted",children:[l?.name||e.series_id," â€¢ ",e.release_date]})]})]})})}e.s(["default",()=>l],97591)},96769,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(97591),s=e.i(68889);function l({releases:e,seriesRegistry:l,artists:i,showSeriesFilter:n=!0}){let[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)("all"),[u,g]=(0,r.useState)("all"),[x,h]=(0,r.useState)("all"),[p,b]=(0,r.useState)([]),[y,f]=(0,r.useState)([]),[v,j]=(0,r.useState)("all"),[N,w]=(0,r.useState)(""),[M,C]=(0,r.useState)(""),S=(0,r.useMemo)(()=>Object.fromEntries(l.map(e=>[e.id,e])),[l]);(0,r.useMemo)(()=>Object.fromEntries(i.map(e=>[e.meta.id,e.meta])),[i]);let k=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.type))).sort(),[e]),$=(0,r.useMemo)(()=>i.map(e=>e.meta).sort((e,t)=>e.name.localeCompare(t.name)),[i]),_=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),I=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),A=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.release_date).getFullYear()))).sort((e,t)=>t-e),[e]),D=(0,r.useMemo)(()=>{var t;let r;return t={query:o,seriesIds:"all"===c?void 0:[c],types:"all"===u?void 0:[u],artistIds:"all"===x?void 0:[x],genres:p.length>0?p:void 0,moods:y.length>0?y:void 0,year:"all"===v?void 0:parseInt(v,10),bpmMin:N?parseInt(N,10):void 0,bpmMax:M?parseInt(M,10):void 0},r=t.query?.trim()??"",e.filter(({meta:e,body:a})=>{if(r&&!function(e,t){let r=e.toLowerCase(),a=t.toLowerCase().trim();if(!a||r.includes(a))return!0;let s=0;for(let e=0;e<a.length;e++){let t=a.charAt(e),l=r.indexOf(t,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.catalog_number,...e.tracks.map(e=>e.title),...e.primary_artists,...e.remix_artists].join(" "),r)||t.seriesIds&&t.seriesIds.length>0&&!t.seriesIds.includes(e.series_id)||t.types&&t.types.length>0&&!t.types.includes(e.type)||t.artistIds&&t.artistIds.length>0&&![...e.primary_artists,...e.remix_artists].some(e=>t.artistIds.includes(e))||t.genres&&t.genres.length>0&&!e.genres.some(e=>t.genres.includes(e))||t.moods&&t.moods.length>0&&!e.moods.some(e=>t.moods.includes(e))||t.year&&new Date(e.release_date).getFullYear()!==t.year)return!1;if(void 0!==t.bpmMin||void 0!==t.bpmMax){let r=function(e){if(!e)return null;let t=e.match(/(\d+)\s*-\s*(\d+)/);return t&&t[1]&&t[2]?{min:parseInt(t[1],10),max:parseInt(t[2],10)}:null}(e.bpm_range);if(!r)return!1;let a=r.min,s=r.max,l=t.bpmMin??0,i=t.bpmMax??300;if(s<l||a>i)return!1}return!0})},[e,o,c,u,x,p,y,v,N,M]),E=o||"all"!==c||"all"!==u||"all"!==x||p.length>0||y.length>0||"all"!==v||N||M,R=()=>{d(""),m("all"),g("all"),h("all"),b([]),f([]),j("all"),w(""),C("")};return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"px-4 container-sigil sm:px-6 lg:px-8",children:[(0,t.jsx)("h1",{className:"mb-6 text-center text-white h-display","data-testid":"releases-page-title",children:"Releases"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search titles, catalog #, tracks, or artists...",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2 lg:grid-cols-4",children:[n&&(0,t.jsxs)("select",{"aria-label":"Filter by series",value:c,onChange:e=>m(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All series"}),l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.short_label??e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by type",value:u,onChange:e=>g(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All types"}),k.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{"aria-label":"Filter by artist",value:x,onChange:e=>h(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All artists"}),$.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by year",value:v,onChange:e=>j(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All years"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min BPM",value:N,onChange:e=>w(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",min:"0",max:"300"}),(0,t.jsx)("input",{type:"number",placeholder:"Max BPM",value:M,onChange:e=>C(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",min:"0",max:"300"})]}),_.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map(e=>(0,t.jsx)("button",{onClick:()=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${p.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),I.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Moods"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:I.map(e=>(0,t.jsx)("button",{onClick:()=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${y.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),E&&(0,t.jsx)("div",{className:"p-3 mb-6 bg-gray-900 border border-gray-800 rounded",children:(0,t.jsxs)("div",{className:"flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:D.length})," of"," ",(0,t.jsx)("span",{className:"font-semibold",children:e.length})," releases"]}),(0,t.jsx)("button",{onClick:R,className:"px-3 py-1 text-sm text-white transition-colors bg-gray-800 border border-gray-700 rounded hover:bg-gray-700",children:"Clear filters"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:D.map(({meta:e})=>{let r=S[e.series_id]??null;return(0,t.jsx)(a.default,{release:e,series:r},e.id)})}),0===D.length&&(0,t.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No releases match the current filters. ",(0,t.jsx)("button",{onClick:R,className:"underline hover:text-white",children:"Clear filters"})]})]})})}e.s(["default",()=>l],96769)}]);