(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32806,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(57688);function s({src:e,alt:s,width:l,height:i,placeholderText:n,className:o,fill:d,objectFit:c="cover"}){var m;let u,g,x,h,p,b,f,y,v,j,N,[w,M]=(0,t.useState)(!1),C=!e||""===e.trim()||w,S=C?(u=Math.max(10,Math.min(4e3,Math.floor((m={width:l,height:i,format:"svg",background:"1a1a1a",color:"666666",text:n||`${l}x${i}`}).width))),x=(g=m.height?Math.max(10,Math.min(4e3,Math.floor(m.height))):void 0)?`${u}x${g}`:`${u}`,h=m.format??"png",p=m.background??"EEE",b=m.color??"31343C",f=`.${h}`,y=`${encodeURIComponent(String(p))}/${encodeURIComponent(String(b))}`,v=`https://placehold.co/${x}/${y}${f}`,j=new URLSearchParams,m.text&&j.set("text",String(m.text)),m.font&&j.set("font",String(m.font)),m.retina&&"svg"!==h&&j.set("@",`${m.retina}x`),(N=j.toString())&&(v+=`?${N}`),v):e;return d?(0,r.jsx)(a.default,{src:S,alt:s,fill:!0,className:o,style:{objectFit:c},onError:()=>!C&&M(!0),unoptimized:C}):(0,r.jsx)(a.default,{src:S,alt:s,width:l,height:i,className:o,style:{objectFit:c},onError:()=>!C&&M(!0),unoptimized:C})}e.s(["default",()=>s],32806)},39964,e=>{"use strict";var r=e.i(43476),t=e.i(22016);function a({href:e,children:a}){let s=(0,r.jsx)("div",{className:"card",children:a});return e?(0,r.jsx)(t.default,{href:e,className:"block text-inherit no-underline",children:s}):s}e.s(["Card",()=>a])},68889,e=>{"use strict";var r=e.i(43476);function t({children:e,className:t=""}){return(0,r.jsx)("section",{className:`py-16 section-band ${t}`,children:e})}e.s(["default",()=>t])},97591,e=>{"use strict";var r=e.i(43476),t=e.i(39964),a=e.i(32806);function s({release:e,series:s}){return(0,r.jsx)(t.Card,{href:`/releases/${e.slug}`,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative w-full overflow-hidden bg-gray-900 aspect-square",children:(0,r.jsx)(a.default,{src:e.cover_art,alt:e.title,width:400,height:400,fill:!0,placeholderText:e.catalog_number,className:"object-cover"})}),(0,r.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,r.jsx)("div",{className:"mb-2 text-label",children:e.catalog_number}),(0,r.jsx)("h3",{className:"mb-2 h-sm line-clamp-2",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-muted",children:[s?.name||e.series_id," â€¢ ",e.release_date]})]})]})})}e.s(["default",()=>s])},96769,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(97591),s=e.i(68889);function l({releases:e,seriesRegistry:l,artists:i,showSeriesFilter:n=!0}){let[o,d]=(0,t.useState)(""),[c,m]=(0,t.useState)("all"),[u,g]=(0,t.useState)("all"),[x,h]=(0,t.useState)("all"),[p,b]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[v,j]=(0,t.useState)("all"),[N,w]=(0,t.useState)(""),[M,C]=(0,t.useState)(""),S=(0,t.useMemo)(()=>Object.fromEntries(l.map(e=>[e.id,e])),[l]);(0,t.useMemo)(()=>Object.fromEntries(i.map(e=>[e.meta.id,e.meta])),[i]);let $=(0,t.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.type))).sort(),[e]),_=(0,t.useMemo)(()=>i.map(e=>e.meta).sort((e,r)=>e.name.localeCompare(r.name)),[i]),k=(0,t.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),I=(0,t.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),A=(0,t.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.release_date).getFullYear()))).sort((e,r)=>r-e),[e]),E=(0,t.useMemo)(()=>{var r;let t;return r={query:o,seriesIds:"all"===c?void 0:[c],types:"all"===u?void 0:[u],artistIds:"all"===x?void 0:[x],genres:p.length>0?p:void 0,moods:f.length>0?f:void 0,year:"all"===v?void 0:parseInt(v,10),bpmMin:N?parseInt(N,10):void 0,bpmMax:M?parseInt(M,10):void 0},t=r.query?.trim()??"",e.filter(({meta:e,body:a})=>{if(t&&!function(e,r){let t=e.toLowerCase(),a=r.toLowerCase().trim();if(!a||t.includes(a))return!0;let s=0;for(let e=0;e<a.length;e++){let r=a.charAt(e),l=t.indexOf(r,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.catalog_number,...e.tracks.map(e=>e.title),...e.primary_artists,...e.remix_artists].join(" "),t)||r.seriesIds&&r.seriesIds.length>0&&!r.seriesIds.includes(e.series_id)||r.types&&r.types.length>0&&!r.types.includes(e.type)||r.artistIds&&r.artistIds.length>0&&![...e.primary_artists,...e.remix_artists].some(e=>r.artistIds.includes(e))||r.genres&&r.genres.length>0&&!e.genres.some(e=>r.genres.includes(e))||r.moods&&r.moods.length>0&&!e.moods.some(e=>r.moods.includes(e))||r.year&&new Date(e.release_date).getFullYear()!==r.year)return!1;if(void 0!==r.bpmMin||void 0!==r.bpmMax){let t=function(e){if(!e)return null;let r=e.match(/(\d+)\s*-\s*(\d+)/);return r&&r[1]&&r[2]?{min:parseInt(r[1],10),max:parseInt(r[2],10)}:null}(e.bpm_range);if(!t)return!1;let a=t.min,s=t.max,l=r.bpmMin??0,i=r.bpmMax??300;if(s<l||a>i)return!1}return!0})},[e,o,c,u,x,p,f,v,N,M]),F=o||"all"!==c||"all"!==u||"all"!==x||p.length>0||f.length>0||"all"!==v||N||M,R=()=>{d(""),m("all"),g("all"),h("all"),b([]),y([]),j("all"),w(""),C("")};return(0,r.jsx)(s.default,{children:(0,r.jsxs)("div",{className:"px-4 container-sigil sm:px-6 lg:px-8",children:[(0,r.jsx)("h1",{className:"mb-6 text-center text-white h-display","data-testid":"releases-page-title",children:"Releases"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Search titles, catalog #, tracks, or artists...",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2 lg:grid-cols-4",children:[n&&(0,r.jsxs)("select",{"aria-label":"Filter by series",value:c,onChange:e=>m(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All series"}),l.map(e=>(0,r.jsx)("option",{value:e.id,children:e.short_label??e.name},e.id))]}),(0,r.jsxs)("select",{"aria-label":"Filter by type",value:u,onChange:e=>g(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All types"}),$.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{"aria-label":"Filter by artist",value:x,onChange:e=>h(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All artists"}),_.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("select",{"aria-label":"Filter by year",value:v,onChange:e=>j(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All years"}),A.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2",children:[(0,r.jsx)("input",{type:"number",placeholder:"Min BPM",value:N,onChange:e=>w(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",min:"0",max:"300"}),(0,r.jsx)("input",{type:"number",placeholder:"Max BPM",value:M,onChange:e=>C(e.target.value),className:"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600",min:"0",max:"300"})]}),k.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Genres"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>(0,r.jsx)("button",{onClick:()=>{b(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${p.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),I.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase",children:"Moods"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:I.map(e=>(0,r.jsx)("button",{onClick:()=>{y(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${f.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),F&&(0,r.jsx)("div",{className:"p-3 mb-6 bg-gray-900 border border-gray-800 rounded",children:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,r.jsx)("span",{className:"font-semibold",children:E.length})," of"," ",(0,r.jsx)("span",{className:"font-semibold",children:e.length})," releases"]}),(0,r.jsx)("button",{onClick:R,className:"px-3 py-1 text-sm text-white transition-colors bg-gray-800 border border-gray-700 rounded hover:bg-gray-700",children:"Clear filters"})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:E.map(({meta:e})=>{let t=S[e.series_id]??null;return(0,r.jsx)(a.default,{release:e,series:t},e.id)})}),0===E.length&&(0,r.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No releases match the current filters. ",(0,r.jsx)("button",{onClick:R,className:"underline hover:text-white",children:"Clear filters"})]})]})})}e.s(["default",()=>l],96769)}]);