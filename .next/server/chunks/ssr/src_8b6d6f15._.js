module.exports=[85781,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987);function e({src:a,alt:e,width:f,height:g,placeholderText:h,className:i,fill:j,objectFit:k="cover"}){var l;let m,n,o,p,q,r,s,t,u,v,w,[x,y]=(0,c.useState)(!1),z=!a||""===a.trim()||x,A=z?(m=Math.max(10,Math.min(4e3,Math.floor((l={width:f,height:g,format:"svg",background:"1a1a1a",color:"666666",text:h||`${f}x${g}`}).width))),o=(n=l.height?Math.max(10,Math.min(4e3,Math.floor(l.height))):void 0)?`${m}x${n}`:`${m}`,p=l.format??"png",q=l.background??"EEE",r=l.color??"31343C",s=`.${p}`,t=`${encodeURIComponent(String(q))}/${encodeURIComponent(String(r))}`,u=`https://placehold.co/${o}/${t}${s}`,v=new URLSearchParams,l.text&&v.set("text",String(l.text)),l.font&&v.set("font",String(l.font)),l.retina&&"svg"!==p&&v.set("@",`${l.retina}x`),(w=v.toString())&&(u+=`?${w}`),u):a;return j?(0,b.jsx)(d.default,{src:A,alt:e,fill:!0,className:i,style:{objectFit:k},onError:()=>!z&&y(!0),unoptimized:z}):(0,b.jsx)(d.default,{src:A,alt:e,width:f,height:g,className:i,style:{objectFit:k},onError:()=>!z&&y(!0),unoptimized:z})}a.s(["default",()=>e],85781)},62067,a=>{"use strict";var b=a.i(87924),c=a.i(38246);function d({href:a,children:d}){let e=(0,b.jsx)("div",{className:"card",children:d});return a?(0,b.jsx)(c.default,{href:a,className:"block text-inherit no-underline",children:e}):e}a.s(["Card",()=>d])},28380,a=>{"use strict";var b=a.i(87924);function c({children:a,className:c=""}){return(0,b.jsx)("section",{className:`py-16 section-band ${c}`,children:a})}a.s(["default",()=>c])},21199,a=>{"use strict";var b=a.i(87924),c=a.i(62067),d=a.i(85781);function e({release:a,series:e}){return(0,b.jsx)(c.Card,{href:`/releases/${a.slug}`,children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"relative w-full aspect-square overflow-hidden bg-gray-900",children:(0,b.jsx)(d.default,{src:a.cover_art,alt:a.title,width:400,height:400,fill:!0,placeholderText:a.catalog_number,className:"object-cover"})}),(0,b.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,b.jsx)("div",{className:"text-label mb-2",children:a.catalog_number}),(0,b.jsx)("h3",{className:"h-sm mb-2 line-clamp-2",children:a.title}),(0,b.jsxs)("div",{className:"text-sm text-muted",children:[e?e.name:a.series_id," â€¢ ",a.release_date]})]})]})})}a.s(["default",()=>e])},82414,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21199),e=a.i(28380);function f({releases:a,seriesRegistry:f,artists:g,showSeriesFilter:h=!0}){let[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("all"),[m,n]=(0,c.useState)("all"),[o,p]=(0,c.useState)("all"),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)("all"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),A=(0,c.useMemo)(()=>Object.fromEntries(f.map(a=>[a.id,a])),[f]);(0,c.useMemo)(()=>Object.fromEntries(g.map(a=>[a.meta.id,a.meta])),[g]);let B=(0,c.useMemo)(()=>Array.from(new Set(a.map(a=>a.meta.type))).sort(),[a]),C=(0,c.useMemo)(()=>g.map(a=>a.meta).sort((a,b)=>a.name.localeCompare(b.name)),[g]),D=(0,c.useMemo)(()=>Array.from(new Set(a.flatMap(a=>a.meta.genres))).sort(),[a]),E=(0,c.useMemo)(()=>Array.from(new Set(a.flatMap(a=>a.meta.moods))).sort(),[a]),F=(0,c.useMemo)(()=>Array.from(new Set(a.map(a=>new Date(a.meta.release_date).getFullYear()))).sort((a,b)=>b-a),[a]),G=(0,c.useMemo)(()=>{var b;let c;return b={query:i,seriesIds:"all"===k?void 0:[k],types:"all"===m?void 0:[m],artistIds:"all"===o?void 0:[o],genres:q.length>0?q:void 0,moods:s.length>0?s:void 0,year:"all"===u?void 0:parseInt(u,10),bpmMin:w?parseInt(w,10):void 0,bpmMax:y?parseInt(y,10):void 0},c=b.query?.trim()??"",a.filter(({meta:a,body:d})=>{if(c&&!function(a,b){let c=a.toLowerCase(),d=b.toLowerCase().trim();if(!d||c.includes(d))return!0;let e=0;for(let a=0;a<d.length;a++){let b=d.charAt(a),f=c.indexOf(b,e);if(-1===f)return!1;e=f+1}return!0}([a.title,a.catalog_number,...a.tracks.map(a=>a.title),...a.primary_artists,...a.remix_artists].join(" "),c)||b.seriesIds&&b.seriesIds.length>0&&!b.seriesIds.includes(a.series_id)||b.types&&b.types.length>0&&!b.types.includes(a.type)||b.artistIds&&b.artistIds.length>0&&![...a.primary_artists,...a.remix_artists].some(a=>b.artistIds.includes(a))||b.genres&&b.genres.length>0&&!a.genres.some(a=>b.genres.includes(a))||b.moods&&b.moods.length>0&&!a.moods.some(a=>b.moods.includes(a))||b.year&&new Date(a.release_date).getFullYear()!==b.year)return!1;if(void 0!==b.bpmMin||void 0!==b.bpmMax){let c=function(a){if(!a)return null;let b=a.match(/(\d+)\s*-\s*(\d+)/);return b&&b[1]&&b[2]?{min:parseInt(b[1],10),max:parseInt(b[2],10)}:null}(a.bpm_range);if(!c)return!1;let d=c.min,e=c.max,f=b.bpmMin??0,g=b.bpmMax??300;if(e<f||d>g)return!1}return!0})},[a,i,k,m,o,q,s,u,w,y]),H=i||"all"!==k||"all"!==m||"all"!==o||q.length>0||s.length>0||"all"!==u||w||y,I=()=>{j(""),l("all"),n("all"),p("all"),r([]),t([]),v("all"),x(""),z("")};return(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"container-sigil px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Releases"}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("input",{type:"text",placeholder:"Search titles, catalog #, tracks, or artists...",value:i,onChange:a=>j(a.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[h&&(0,b.jsxs)("select",{"aria-label":"Filter by series",value:k,onChange:a=>l(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All series"}),f.map(a=>(0,b.jsx)("option",{value:a.id,children:a.short_label??a.name},a.id))]}),(0,b.jsxs)("select",{"aria-label":"Filter by type",value:m,onChange:a=>n(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All types"}),B.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{"aria-label":"Filter by artist",value:o,onChange:a=>p(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All artists"}),C.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("select",{"aria-label":"Filter by year",value:u,onChange:a=>v(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All years"}),F.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:[(0,b.jsx)("input",{type:"number",placeholder:"Min BPM",value:w,onChange:a=>x(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",min:"0",max:"300"}),(0,b.jsx)("input",{type:"number",placeholder:"Max BPM",value:y,onChange:a=>z(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",min:"0",max:"300"})]}),D.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(a=>(0,b.jsx)("button",{onClick:()=>{r(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${q.includes(a)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:a},a))})]}),E.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(a=>(0,b.jsx)("button",{onClick:()=>{t(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${s.includes(a)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:a},a))})]}),H&&(0,b.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,b.jsx)("span",{className:"font-semibold",children:G.length})," of"," ",(0,b.jsx)("span",{className:"font-semibold",children:a.length})," releases"]}),(0,b.jsx)("button",{onClick:I,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(({meta:a})=>{let c=A[a.series_id]??null;return(0,b.jsx)(d.default,{release:a,series:c},a.id)})}),0===G.length&&(0,b.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No releases match the current filters. ",(0,b.jsx)("button",{onClick:I,className:"underline hover:text-white",children:"Clear filters"})]})]})})}a.s(["default",()=>f],82414)}];

//# sourceMappingURL=src_8b6d6f15._.js.map