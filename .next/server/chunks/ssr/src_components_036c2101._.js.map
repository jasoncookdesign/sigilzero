{"version":3,"sources":["../../../../src/components/PlaceholderImage.tsx","../../../../src/lib/placehold.ts","../../../../src/components/ui/Card.tsx","../../../../src/components/cards/ArtistCard.tsx","../../../../src/components/cards/ReleaseCard.tsx","../../../../src/components/cards/MixtapeCard.tsx","../../../../src/components/cards/SeriesCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Image from \"next/image\";\nimport { buildPlaceholdUrl } from \"../lib/placehold\";\n\ntype PlaceholderImageProps = {\n  src?: string | null | undefined;\n  alt: string;\n  width: number;\n  height: number;\n  placeholderText?: string | undefined;\n  className?: string | undefined;\n  fill?: boolean | undefined;\n  objectFit?: \"cover\" | \"contain\" | undefined;\n};\n\n/**\n * Wrapper around Next.js Image that falls back to placehold.co if src is missing/invalid.\n * Falls back to placeholder if src is undefined, null, or empty string.\n */\nexport default function PlaceholderImage({\n  src,\n  alt,\n  width,\n  height,\n  placeholderText,\n  className,\n  fill,\n  objectFit = \"cover\",\n}: PlaceholderImageProps) {\n  const [imgError, setImgError] = useState(false);\n\n  // Use placeholder if src is missing or if image failed to load\n  const usePlaceholder = !src || src.trim() === \"\" || imgError;\n\n  const finalSrc = usePlaceholder\n    ? buildPlaceholdUrl({\n        width,\n        height,\n        format: \"svg\",\n        background: \"1a1a1a\",\n        color: \"666666\",\n        text: placeholderText || `${width}x${height}`,\n      })\n    : src;\n\n  if (fill) {\n    return (\n      <Image\n        src={finalSrc}\n        alt={alt}\n        fill\n        className={className}\n        style={{ objectFit }}\n        onError={() => !usePlaceholder && setImgError(true)}\n        unoptimized={usePlaceholder}\n      />\n    );\n  }\n\n  return (\n    <Image\n      src={finalSrc}\n      alt={alt}\n      width={width}\n      height={height}\n      className={className}\n      style={{ objectFit }}\n      onError={() => !usePlaceholder && setImgError(true)}\n      unoptimized={usePlaceholder}\n    />\n  );\n}\n","export type PlaceholdOptions = {\n  width: number;\n  height?: number;\n  format?: \"png\" | \"svg\" | \"jpeg\" | \"jpg\" | \"webp\" | \"avif\" | \"gif\";\n  background?: string; // hex or css name\n  color?: string; // text color\n  text?: string;\n  font?: string;\n  retina?: 2 | 3;\n};\n\nconst DEFAULT_BG = \"EEE\";\nconst DEFAULT_FG = \"31343C\";\n\n/**\n * Build a placehold.co URL with given dimensions and options.\n * Safe to use in both client and server contexts.\n */\nexport function buildPlaceholdUrl(opts: PlaceholdOptions): string {\n  const width = Math.max(10, Math.min(4000, Math.floor(opts.width)));\n  const height = opts.height ? Math.max(10, Math.min(4000, Math.floor(opts.height))) : undefined;\n  const size = height ? `${width}x${height}` : `${width}`;\n\n  const format = opts.format ?? \"png\";\n  const bg = opts.background ?? DEFAULT_BG;\n  const fg = opts.color ?? DEFAULT_FG;\n\n  // base path like /600x400/000/FFF.png\n  const extPart = `.${format}`;\n  const colorPart = `${encodeURIComponent(String(bg))}/${encodeURIComponent(String(fg))}`;\n\n  let url = `https://placehold.co/${size}/${colorPart}${extPart}`;\n\n  const qs = new URLSearchParams();\n  if (opts.text) qs.set(\"text\", String(opts.text));\n  if (opts.font) qs.set(\"font\", String(opts.font));\n  if (opts.retina && (format !== \"svg\")) qs.set(\"@\", `${opts.retina}x`);\n\n  const q = qs.toString();\n  if (q) url += `?${q}`;\n\n  return url;\n}\n\nexport default {\n  buildPlaceholdUrl,\n};\n","\"use client\";\n\nimport Link from \"next/link\";\nimport type { ReactNode } from \"react\";\n\ntype CardProps = {\n  href?: string;\n  children: ReactNode;\n};\n\nexport function Card({ href, children }: CardProps) {\n  const inner = (\n    <div className=\"card\">\n      {children}\n    </div>\n  );\n\n  if (href) {\n    return (\n      <Link\n        href={href}\n        className=\"block text-inherit no-underline\"\n      >\n        {inner}\n      </Link>\n    );\n  }\n\n  return inner;\n}\n","\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { ArtistDocument } from \"../../lib/content/load-artists\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  artist: ArtistDocument[\"meta\"];\n};\n\nexport default function ArtistCard({ artist }: Props) {\n  return (\n    <Card href={`/artists/${artist.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden border-b border-gray-900 bg-gray-900\">\n          <PlaceholderImage\n            src={artist.photo}\n            alt={artist.name}\n            width={400}\n            height={400}\n            fill\n            placeholderText={artist.name}\n            className=\"object-cover\"\n          />\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <h3 className=\"h-sm mb-2\">\n            {artist.name}\n          </h3>\n\n          <div className=\"mb-2 text-sm text-muted\">\n            {artist.roles.join(\" / \")}\n          </div>\n\n          {artist.location && (\n            <div className=\"text-xs text-gray-600\">\n              {artist.location}\n            </div>\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { ReleaseDocument } from \"../../lib/content/load-releases\";\nimport type { SeriesRegistryItem } from \"../../lib/content/load-series-registry\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  release: ReleaseDocument[\"meta\"];\n  series?: SeriesRegistryItem | null;\n};\n\nexport default function ReleaseCard({ release, series }: Props) {\n  return (\n    <Card href={`/releases/${release.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden bg-gray-900\">\n          <PlaceholderImage\n            src={release.cover_art}\n            alt={release.title}\n            width={400}\n            height={400}\n            fill\n            placeholderText={release.catalog_number}\n            className=\"object-cover\"\n          />\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <div className=\"text-label mb-2\">\n            {release.catalog_number}\n          </div>\n\n          <h3 className=\"h-sm mb-2 line-clamp-2\">\n            {release.title}\n          </h3>\n\n          <div className=\"text-sm text-muted\">\n            {series ? series.name : release.series_id} • {release.release_date}\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { MixtapeDocument } from \"../../lib/content/load-mixtapes\";\nimport type { ArtistDocument } from \"../../lib/content/load-artists\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  mixtape: MixtapeDocument[\"meta\"];\n  artist?: ArtistDocument[\"meta\"] | null;\n};\n\nexport default function MixtapeCard({ mixtape, artist }: Props) {\n  return (\n    <Card href={`/mixtapes/${mixtape.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden bg-gray-900\">\n          <PlaceholderImage\n            src={mixtape.cover_image}\n            alt={mixtape.title}\n            width={400}\n            height={400}\n            fill\n            placeholderText={mixtape.title}\n            className=\"object-cover\"\n          />\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <h3 className=\"h-sm mb-2\">{\n            mixtape.title\n          }</h3>\n\n          <div className=\"mb-2 text-sm text-muted\">\n            {mixtape.date}\n          </div>\n\n          {artist && (\n            <div className=\"mb-2 text-sm text-muted\">\n              {artist.name}\n            </div>\n          )}\n\n          <div className=\"text-xs text-gray-600\">\n            {mixtape.platform}\n            {mixtape.event_name && ` · ${mixtape.event_name}`}\n            {mixtape.location && ` · ${mixtape.location}`}\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { Series } from \"../../lib/schemas/series\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  series: Series;\n};\n\nexport default function SeriesCard({ series }: Props) {\n  return (\n    <Card href={`/series/${series.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden bg-gray-900\">\n          {series.glyph ? (\n            <PlaceholderImage\n              src={series.glyph}\n              alt={series.name}\n              width={400}\n              height={400}\n              fill\n              placeholderText={series.short_label}\n              className=\"object-cover\"\n            />\n          ) : (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-gradient-to-br\" style={{ backgroundImage: `linear-gradient(135deg, ${series.color_hex || '#666'} 0%, ${series.accent_hex || '#333'} 100%)` }}>\n              <span className=\"text-3xl font-bold text-white opacity-60\">{series.short_label}</span>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <div className=\"text-label mb-2\">\n            {series.short_label ?? series.name}\n          </div>\n          <h3 className=\"h-sm mb-2\">\n            {series.name}\n          </h3>\n          {series.tagline && (\n            <div className=\"text-sm text-muted\">\n              {series.tagline}\n            </div>\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}