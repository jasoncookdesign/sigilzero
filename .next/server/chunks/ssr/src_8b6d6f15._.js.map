{"version":3,"sources":["../../../../src/components/PlaceholderImage.tsx","../../../../src/lib/placehold.ts","../../../../src/components/ui/Card.tsx","../../../../src/components/Section.tsx","../../../../src/components/cards/ReleaseCard.tsx","../../../../src/app/releases/ReleasesCatalog.tsx","../../../../src/lib/filters/releases.ts"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Image from \"next/image\";\nimport { buildPlaceholdUrl } from \"../lib/placehold\";\n\ntype PlaceholderImageProps = {\n  src?: string | null | undefined;\n  alt: string;\n  width: number;\n  height: number;\n  placeholderText?: string | undefined;\n  className?: string | undefined;\n  fill?: boolean | undefined;\n  objectFit?: \"cover\" | \"contain\" | undefined;\n};\n\n/**\n * Wrapper around Next.js Image that falls back to placehold.co if src is missing/invalid.\n * Falls back to placeholder if src is undefined, null, or empty string.\n */\nexport default function PlaceholderImage({\n  src,\n  alt,\n  width,\n  height,\n  placeholderText,\n  className,\n  fill,\n  objectFit = \"cover\",\n}: PlaceholderImageProps) {\n  const [imgError, setImgError] = useState(false);\n\n  // Use placeholder if src is missing or if image failed to load\n  const usePlaceholder = !src || src.trim() === \"\" || imgError;\n\n  const finalSrc = usePlaceholder\n    ? buildPlaceholdUrl({\n        width,\n        height,\n        format: \"svg\",\n        background: \"1a1a1a\",\n        color: \"666666\",\n        text: placeholderText || `${width}x${height}`,\n      })\n    : src;\n\n  if (fill) {\n    return (\n      <Image\n        src={finalSrc}\n        alt={alt}\n        fill\n        className={className}\n        style={{ objectFit }}\n        onError={() => !usePlaceholder && setImgError(true)}\n        unoptimized={usePlaceholder}\n      />\n    );\n  }\n\n  return (\n    <Image\n      src={finalSrc}\n      alt={alt}\n      width={width}\n      height={height}\n      className={className}\n      style={{ objectFit }}\n      onError={() => !usePlaceholder && setImgError(true)}\n      unoptimized={usePlaceholder}\n    />\n  );\n}\n","export type PlaceholdOptions = {\n  width: number;\n  height?: number;\n  format?: \"png\" | \"svg\" | \"jpeg\" | \"jpg\" | \"webp\" | \"avif\" | \"gif\";\n  background?: string; // hex or css name\n  color?: string; // text color\n  text?: string;\n  font?: string;\n  retina?: 2 | 3;\n};\n\nconst DEFAULT_BG = \"EEE\";\nconst DEFAULT_FG = \"31343C\";\n\n/**\n * Build a placehold.co URL with given dimensions and options.\n * Safe to use in both client and server contexts.\n */\nexport function buildPlaceholdUrl(opts: PlaceholdOptions): string {\n  const width = Math.max(10, Math.min(4000, Math.floor(opts.width)));\n  const height = opts.height ? Math.max(10, Math.min(4000, Math.floor(opts.height))) : undefined;\n  const size = height ? `${width}x${height}` : `${width}`;\n\n  const format = opts.format ?? \"png\";\n  const bg = opts.background ?? DEFAULT_BG;\n  const fg = opts.color ?? DEFAULT_FG;\n\n  // base path like /600x400/000/FFF.png\n  const extPart = `.${format}`;\n  const colorPart = `${encodeURIComponent(String(bg))}/${encodeURIComponent(String(fg))}`;\n\n  let url = `https://placehold.co/${size}/${colorPart}${extPart}`;\n\n  const qs = new URLSearchParams();\n  if (opts.text) qs.set(\"text\", String(opts.text));\n  if (opts.font) qs.set(\"font\", String(opts.font));\n  if (opts.retina && (format !== \"svg\")) qs.set(\"@\", `${opts.retina}x`);\n\n  const q = qs.toString();\n  if (q) url += `?${q}`;\n\n  return url;\n}\n\nexport default {\n  buildPlaceholdUrl,\n};\n","\"use client\";\n\nimport Link from \"next/link\";\nimport type { ReactNode } from \"react\";\n\ntype CardProps = {\n  href?: string;\n  children: ReactNode;\n};\n\nexport function Card({ href, children }: CardProps) {\n  const inner = (\n    <div className=\"card\">\n      {children}\n    </div>\n  );\n\n  if (href) {\n    return (\n      <Link\n        href={href}\n        className=\"block text-inherit no-underline\"\n      >\n        {inner}\n      </Link>\n    );\n  }\n\n  return inner;\n}\n","import React from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n  className?: string;\n};\n\n/**\n * Section wrapper that applies full-width alternating background colors.\n * Uses nth-of-type(odd/even) to alternate between two dark shades,\n * independent of the actual order or other elements on the page.\n * Children should be wrapped in a container (e.g., div with container-sigil class)\n * to constrain content width while allowing the background to span full width.\n */\nexport default function Section({ children, className = \"\" }: Props) {\n  return (\n    <section\n      className={`py-16 section-band ${className}`}\n    >\n      {children}\n    </section>\n  );\n}\n","\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { ReleaseDocument } from \"../../lib/content/load-releases\";\nimport type { SeriesRegistryItem } from \"../../lib/content/load-series-registry\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  release: ReleaseDocument[\"meta\"];\n  series?: SeriesRegistryItem | null;\n};\n\nexport default function ReleaseCard({ release, series }: Props) {\n  return (\n    <Card href={`/releases/${release.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden bg-gray-900\">\n          <PlaceholderImage\n            src={release.cover_art}\n            alt={release.title}\n            width={400}\n            height={400}\n            fill\n            placeholderText={release.catalog_number}\n            className=\"object-cover\"\n          />\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <div className=\"text-label mb-2\">\n            {release.catalog_number}\n          </div>\n\n          <h3 className=\"h-sm mb-2 line-clamp-2\">\n            {release.title}\n          </h3>\n\n          <div className=\"text-sm text-muted\">\n            {series ? series.name : release.series_id} â€¢ {release.release_date}\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nimport type { ReleaseDocument } from \"../../lib/content/load-releases\";\nimport type { SeriesRegistryItem } from \"../../lib/content/load-series-registry\";\nimport type { ArtistDocument } from \"../../lib/content/load-artists\";\nimport { filterReleases } from \"../../lib/filters/releases\";\nimport ReleaseCard from \"../../components/cards/ReleaseCard\";\nimport Section from \"../../components/Section\";\n\ntype Props = {\n  releases: ReleaseDocument[];\n  seriesRegistry: SeriesRegistryItem[];\n  artists: ArtistDocument[];\n  showSeriesFilter?: boolean;\n};\n\nexport default function ReleasesCatalog({\n  releases,\n  seriesRegistry,\n  artists,\n  showSeriesFilter = true,\n}: Props) {\n  const [query, setQuery] = useState(\"\");\n  const [seriesId, setSeriesId] = useState<string>(\"all\");\n  const [type, setType] = useState<string>(\"all\");\n  const [artistId, setArtistId] = useState<string>(\"all\");\n  const [genres, setGenres] = useState<string[]>([]);\n  const [moods, setMoods] = useState<string[]>([]);\n  const [year, setYear] = useState<string>(\"all\");\n  const [bpmMin, setBpmMin] = useState<string>(\"\");\n  const [bpmMax, setBpmMax] = useState<string>(\"\");\n\n  const seriesById = useMemo(\n    () => Object.fromEntries(seriesRegistry.map((s) => [s.id, s])),\n    [seriesRegistry]\n  );\n\n  const artistById = useMemo(\n    () => Object.fromEntries(artists.map((a) => [a.meta.id, a.meta])),\n    [artists]\n  );\n\n  const allTypes = useMemo(\n    () => Array.from(new Set(releases.map((r) => r.meta.type))).sort(),\n    [releases]\n  );\n\n  const allArtists = useMemo(\n    () =>\n      artists\n        .map((a) => a.meta)\n        .sort((a, b) => a.name.localeCompare(b.name)),\n    [artists]\n  );\n\n  const allGenres = useMemo(\n    () =>\n      Array.from(\n        new Set(releases.flatMap((r) => r.meta.genres))\n      ).sort(),\n    [releases]\n  );\n\n  const allMoods = useMemo(\n    () =>\n      Array.from(\n        new Set(releases.flatMap((r) => r.meta.moods))\n      ).sort(),\n    [releases]\n  );\n\n  const allYears = useMemo(\n    () =>\n      Array.from(\n        new Set(\n          releases.map((r) => new Date(r.meta.release_date).getFullYear())\n        )\n      ).sort((a, b) => b - a),\n    [releases]\n  );\n\n  const filtered = useMemo(() => {\n    return filterReleases(releases, {\n      query,\n      seriesIds: seriesId === \"all\" ? undefined : [seriesId],\n      types: type === \"all\" ? undefined : [type],\n      artistIds: artistId === \"all\" ? undefined : [artistId],\n      genres: genres.length > 0 ? genres : undefined,\n      moods: moods.length > 0 ? moods : undefined,\n      year: year === \"all\" ? undefined : parseInt(year, 10),\n      bpmMin: bpmMin ? parseInt(bpmMin, 10) : undefined,\n      bpmMax: bpmMax ? parseInt(bpmMax, 10) : undefined,\n    });\n  }, [releases, query, seriesId, type, artistId, genres, moods, year, bpmMin, bpmMax]);\n\n  const isFiltered =\n    query ||\n    seriesId !== \"all\" ||\n    type !== \"all\" ||\n    artistId !== \"all\" ||\n    genres.length > 0 ||\n    moods.length > 0 ||\n    year !== \"all\" ||\n    bpmMin ||\n    bpmMax;\n\n  const clearFilters = () => {\n    setQuery(\"\");\n    setSeriesId(\"all\");\n    setType(\"all\");\n    setArtistId(\"all\");\n    setGenres([]);\n    setMoods([]);\n    setYear(\"all\");\n    setBpmMin(\"\");\n    setBpmMax(\"\");\n  };\n\n  const toggleGenre = (g: string) => {\n    setGenres((prev) =>\n      prev.includes(g) ? prev.filter((x) => x !== g) : [...prev, g]\n    );\n  };\n\n  const toggleMood = (m: string) => {\n    setMoods((prev) =>\n      prev.includes(m) ? prev.filter((x) => x !== m) : [...prev, m]\n    );\n  };\n\n  return (\n    <Section>\n      <div className=\"container-sigil px-4 sm:px-6 lg:px-8\">\n        <h2 className=\"text-4xl mb-6 text-center\">\n          Releases\n        </h2>\n\n        {/* Search input */}\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search titles, catalog #, tracks, or artists...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className=\"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n          />\n        </div>\n\n      {/* Dropdown filters - Row 1 */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4\">\n        {/* Series */}\n        {showSeriesFilter && (\n          <select\n            aria-label=\"Filter by series\"\n            value={seriesId}\n            onChange={(e) => setSeriesId(e.target.value)}\n            className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n          >\n            <option value=\"all\">All series</option>\n            {seriesRegistry.map((s) => (\n              <option key={s.id} value={s.id}>\n                {s.short_label ?? s.name}\n              </option>\n            ))}\n          </select>\n        )}\n\n        {/* Type */}\n        <select\n          aria-label=\"Filter by type\"\n          value={type}\n          onChange={(e) => setType(e.target.value)}\n          className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All types</option>\n          {allTypes.map((t) => (\n            <option key={t} value={t}>\n              {t}\n            </option>\n          ))}\n        </select>\n\n        {/* Artist */}\n        <select\n          aria-label=\"Filter by artist\"\n          value={artistId}\n          onChange={(e) => setArtistId(e.target.value)}\n          className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All artists</option>\n          {allArtists.map((a) => (\n            <option key={a.id} value={a.id}>\n              {a.name}\n            </option>\n          ))}\n        </select>\n\n        {/* Year */}\n        <select\n          aria-label=\"Filter by year\"\n          value={year}\n          onChange={(e) => setYear(e.target.value)}\n          className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All years</option>\n          {allYears.map((y) => (\n            <option key={y} value={y}>\n              {y}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* BPM range filters */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4\">\n        <input\n          type=\"number\"\n          placeholder=\"Min BPM\"\n          value={bpmMin}\n          onChange={(e) => setBpmMin(e.target.value)}\n          className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n          min=\"0\"\n          max=\"300\"\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Max BPM\"\n          value={bpmMax}\n          onChange={(e) => setBpmMax(e.target.value)}\n          className=\"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600\"\n          min=\"0\"\n          max=\"300\"\n        />\n      </div>\n\n      {/* Genre pills */}\n      {allGenres.length > 0 && (\n        <div className=\"mb-4\">\n          <label className=\"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide\">\n            Genres\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {allGenres.map((g) => (\n              <button\n                key={g}\n                onClick={() => toggleGenre(g)}\n                className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                  genres.includes(g)\n                    ? \"bg-white text-black border border-white\"\n                    : \"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600\"\n                }`}\n              >\n                {g}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mood pills */}\n      {allMoods.length > 0 && (\n        <div className=\"mb-4\">\n          <label className=\"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide\">\n            Moods\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {allMoods.map((m) => (\n              <button\n                key={m}\n                onClick={() => toggleMood(m)}\n                className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                  moods.includes(m)\n                    ? \"bg-white text-black border border-white\"\n                    : \"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600\"\n                }`}\n              >\n                {m}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Active filters display and clear button */}\n      {isFiltered && (\n        <div className=\"mb-6 p-3 bg-gray-900 rounded border border-gray-800\">\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3\">\n            <div className=\"text-sm text-gray-300\">\n              Showing <span className=\"font-semibold\">{filtered.length}</span> of{\" \"}\n              <span className=\"font-semibold\">{releases.length}</span> releases\n            </div>\n            <button\n              onClick={clearFilters}\n              className=\"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700\"\n            >\n              Clear filters\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Grid */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filtered.map(({ meta }) => {\n          const series = seriesById[meta.series_id] ?? null;\n          return <ReleaseCard key={meta.id} release={meta} series={series} />;\n        })}\n      </div>\n\n      {filtered.length === 0 && (\n        <p className=\"mt-4 text-sm opacity-70\">\n          No releases match the current filters. <button onClick={clearFilters} className=\"underline hover:text-white\">Clear filters</button>\n        </p>\n      )}\n      </div>\n    </Section>\n  );\n}\n","// src/lib/filters/releases.ts\nimport type { ReleaseDocument } from \"../content/load-releases\";\n\nexport type ReleaseFilterCriteria = {\n  query?: string | undefined;             // text search\n  seriesIds?: string[] | undefined;       // [\"core\", \"black\", ...]\n  types?: string[] | undefined;           // [\"single\", \"maxi-single\", \"ep\", \"album\"]\n  artistIds?: string[] | undefined;       // [\"dyson-hope\", \"nototo\", ...]\n  genres?: string[] | undefined;          // [\"techno\", \"house\", ...]\n  moods?: string[] | undefined;           // [\"dark\", \"peak-time\", ...]\n  year?: number | undefined;              // 2024, 2025, etc.\n  bpmMin?: number | undefined;            // minimum BPM\n  bpmMax?: number | undefined;            // maximum BPM\n};\n\n// Extract min/max BPM from \"130-140\" string format\nfunction parseBpmRange(bpmRangeStr: string | undefined): { min: number; max: number } | null {\n  if (!bpmRangeStr) return null;\n  const match = bpmRangeStr.match(/(\\d+)\\s*-\\s*(\\d+)/);\n  if (!match || !match[1] || !match[2]) return null;\n  return {\n    min: parseInt(match[1], 10),\n    max: parseInt(match[2], 10),\n  };\n}\n\n// Fuzzy search: checks if query matches in text\nfunction fuzzyMatch(haystack: string, query: string): boolean {\n  const h = haystack.toLowerCase();\n  const q = query.toLowerCase().trim();\n  if (!q) return true;\n\n  // Exact substring match (case-insensitive)\n  if (h.includes(q)) return true;\n\n  // Fuzzy: all characters of query appear in haystack in order\n  let hIdx = 0;\n  for (let qIdx = 0; qIdx < q.length; qIdx++) {\n    const char = q.charAt(qIdx);\n    const charIdx = h.indexOf(char, hIdx);\n    if (charIdx === -1) return false;\n    hIdx = charIdx + 1;\n  }\n  return true;\n}\n\nexport function filterReleases(\n  releases: ReleaseDocument[],\n  criteria: ReleaseFilterCriteria\n): ReleaseDocument[] {\n  const q = criteria.query?.trim() ?? \"\";\n\n  return releases.filter(({ meta, body }) => {\n    // Fuzzy text search: title + catalog_number + track names + artist names\n    if (q) {\n      const searchText = [\n        meta.title,\n        meta.catalog_number,\n        ...meta.tracks.map((t) => t.title),\n        ...meta.primary_artists,\n        ...meta.remix_artists,\n      ].join(\" \");\n\n      if (!fuzzyMatch(searchText, q)) return false;\n    }\n\n    // Series filter\n    if (criteria.seriesIds && criteria.seriesIds.length > 0) {\n      if (!criteria.seriesIds.includes(meta.series_id)) return false;\n    }\n\n    // Type filter\n    if (criteria.types && criteria.types.length > 0) {\n      if (!criteria.types.includes(meta.type)) return false;\n    }\n\n    // Artist filter (primary or remix)\n    if (criteria.artistIds && criteria.artistIds.length > 0) {\n      const allArtistIds = [\n        ...meta.primary_artists,\n        ...meta.remix_artists,\n      ];\n      const intersects = allArtistIds.some((id) =>\n        criteria.artistIds!.includes(id)\n      );\n      if (!intersects) return false;\n    }\n\n    // Genre filter\n    if (criteria.genres && criteria.genres.length > 0) {\n      const matchesGenre = meta.genres.some((g) =>\n        criteria.genres!.includes(g)\n      );\n      if (!matchesGenre) return false;\n    }\n\n    // Mood filter\n    if (criteria.moods && criteria.moods.length > 0) {\n      const matchesMood = meta.moods.some((m) =>\n        criteria.moods!.includes(m)\n      );\n      if (!matchesMood) return false;\n    }\n\n    // Year filter\n    if (criteria.year) {\n      const year = new Date(meta.release_date).getFullYear();\n      if (year !== criteria.year) return false;\n    }\n\n    // BPM range filter\n    if (criteria.bpmMin !== undefined || criteria.bpmMax !== undefined) {\n      const range = parseBpmRange(meta.bpm_range);\n      if (!range) return false; // No BPM data, exclude\n\n      const releaseBpmMin = range.min;\n      const releaseBpmMax = range.max;\n\n      // Check if release's BPM range overlaps with filter range\n      const filterMin = criteria.bpmMin ?? 0;\n      const filterMax = criteria.bpmMax ?? 300;\n\n      if (releaseBpmMax < filterMin || releaseBpmMin > filterMax) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n"],"names":[],"mappings":"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"}