module.exports=[85781,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987);function e({src:a,alt:e,width:f,height:g,placeholderText:h,className:i,fill:j,objectFit:k="cover"}){var l;let m,n,o,p,q,r,s,t,u,v,w,[x,y]=(0,c.useState)(!1),z=!a||""===a.trim()||x,A=z?(m=Math.max(10,Math.min(4e3,Math.floor((l={width:f,height:g,format:"svg",background:"1a1a1a",color:"666666",text:h||`${f}x${g}`}).width))),o=(n=l.height?Math.max(10,Math.min(4e3,Math.floor(l.height))):void 0)?`${m}x${n}`:`${m}`,p=l.format??"png",q=l.background??"EEE",r=l.color??"31343C",s=`.${p}`,t=`${encodeURIComponent(String(q))}/${encodeURIComponent(String(r))}`,u=`https://placehold.co/${o}/${t}${s}`,v=new URLSearchParams,l.text&&v.set("text",String(l.text)),l.font&&v.set("font",String(l.font)),l.retina&&"svg"!==p&&v.set("@",`${l.retina}x`),(w=v.toString())&&(u+=`?${w}`),u):a;return j?(0,b.jsx)(d.default,{src:A,alt:e,fill:!0,className:i,style:{objectFit:k},onError:()=>!z&&y(!0),unoptimized:z}):(0,b.jsx)(d.default,{src:A,alt:e,width:f,height:g,className:i,style:{objectFit:k},onError:()=>!z&&y(!0),unoptimized:z})}a.s(["default",()=>e],85781)},62067,a=>{"use strict";var b=a.i(87924),c=a.i(38246);function d({href:a,children:d}){let e=(0,b.jsx)("div",{className:"card",children:d});return a?(0,b.jsx)(c.default,{href:a,className:"block text-inherit no-underline",children:e}):e}a.s(["Card",()=>d])},28380,a=>{"use strict";var b=a.i(87924);function c({children:a,className:c=""}){return(0,b.jsx)("section",{className:`py-16 section-band ${c}`,children:a})}a.s(["default",()=>c])},81669,a=>{"use strict";var b=a.i(87924),c=a.i(62067),d=a.i(85781);function e({mixtape:a,artist:e}){return(0,b.jsx)(c.Card,{href:`/mixtapes/${a.slug}`,children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"relative w-full aspect-square overflow-hidden bg-gray-900",children:(0,b.jsx)(d.default,{src:a.cover_image,alt:a.title,width:400,height:400,fill:!0,placeholderText:a.title,className:"object-cover"})}),(0,b.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,b.jsx)("h3",{className:"h-sm mb-2",children:a.title}),(0,b.jsx)("div",{className:"mb-2 text-sm text-muted",children:a.date}),e&&(0,b.jsx)("div",{className:"mb-2 text-sm text-muted",children:e.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-600",children:[a.platform,a.event_name&&` \xb7 ${a.event_name}`,a.location&&` \xb7 ${a.location}`]})]})]})})}a.s(["default",()=>e])},93074,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(81669),e=a.i(28380);function f({mixtapes:a,artists:f}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)("all"),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)("all"),u=(0,c.useMemo)(()=>Object.fromEntries(f.map(a=>[a.meta.id,a.meta])),[f]),v=(0,c.useMemo)(()=>f.map(a=>a.meta).sort((a,b)=>a.name.localeCompare(b.name)),[f]),w=(0,c.useMemo)(()=>Array.from(new Set(a.map(a=>a.meta.platform))).sort(),[a]),x=(0,c.useMemo)(()=>Array.from(new Set(a.flatMap(a=>a.meta.genres))).sort(),[a]),y=(0,c.useMemo)(()=>Array.from(new Set(a.flatMap(a=>a.meta.moods))).sort(),[a]),z=(0,c.useMemo)(()=>Array.from(new Set(a.flatMap(a=>a.meta.tags))).sort(),[a]),A=(0,c.useMemo)(()=>Array.from(new Set(a.map(a=>new Date(a.meta.date).getFullYear()))).sort((a,b)=>b-a),[a]),B=(0,c.useMemo)(()=>{var b;let c;return b={query:g,artistIds:"all"===i?void 0:[i],platforms:"all"===k?void 0:[k],genres:m.length>0?m:void 0,moods:o.length>0?o:void 0,tags:q.length>0?q:void 0,year:"all"===s?void 0:parseInt(s,10)},c=b.query?.trim()??"",a.filter(({meta:a})=>(!c||!!function(a,b){let c=a.toLowerCase(),d=b.toLowerCase().trim();if(!d||c.includes(d))return!0;let e=0;for(let a=0;a<d.length;a++){let b=d.charAt(a),f=c.indexOf(b,e);if(-1===f)return!1;e=f+1}return!0}([a.title,a.event_name??"",a.location??"",a.artist_id].join(" "),c))&&(!b.artistIds||!(b.artistIds.length>0)||!!b.artistIds.includes(a.artist_id))&&(!b.platforms||!(b.platforms.length>0)||!!b.platforms.includes(a.platform))&&(!b.genres||!(b.genres.length>0)||!!a.genres.some(a=>b.genres.includes(a)))&&(!b.moods||!(b.moods.length>0)||!!a.moods.some(a=>b.moods.includes(a)))&&(!b.tags||!(b.tags.length>0)||!!a.tags.some(a=>b.tags.includes(a)))&&(!b.year||new Date(a.date).getFullYear()===b.year)&&!0)},[a,g,i,k,m,o,q,s]),C=g||"all"!==i||"all"!==k||m.length>0||o.length>0||q.length>0||"all"!==s,D=()=>{h(""),j("all"),l("all"),n([]),p([]),r([]),t("all")};return(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"container-sigil px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Mixtapes"}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("input",{type:"text",placeholder:"Search titles, events, locations, or artists...",value:g,onChange:a=>h(a.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[(0,b.jsxs)("select",{"aria-label":"Filter by artist",value:i,onChange:a=>j(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All artists"}),v.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("select",{"aria-label":"Filter by platform",value:k,onChange:a=>l(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All platforms"}),w.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{"aria-label":"Filter by year",value:s,onChange:a=>t(a.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,b.jsx)("option",{value:"all",children:"All years"}),A.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),x.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(a=>(0,b.jsx)("button",{onClick:()=>{n(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${m.includes(a)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:a},a))})]}),y.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(a=>(0,b.jsx)("button",{onClick:()=>{p(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${o.includes(a)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:a},a))})]}),z.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:z.map(a=>(0,b.jsx)("button",{onClick:()=>{r(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${q.includes(a)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:a},a))})]}),C&&(0,b.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,b.jsx)("span",{className:"font-semibold",children:B.length})," of"," ",(0,b.jsx)("span",{className:"font-semibold",children:a.length})," mixtapes"]}),(0,b.jsx)("button",{onClick:D,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(({meta:a})=>{let c=u[a.artist_id]??null;return(0,b.jsx)(d.default,{mixtape:a,artist:c},a.id)})}),0===B.length&&(0,b.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No mixtapes match the current filters. ",(0,b.jsx)("button",{onClick:D,className:"underline hover:text-white",children:"Clear filters"})]})]})})}a.s(["default",()=>f],93074)}];

//# sourceMappingURL=src_53d6ee56._.js.map