{"version":3,"sources":["../../../../src/lib/content/load-artists.ts","../../../../src/lib/schemas/artist.ts","../../../../src/lib/content/load-mixtapes.ts","../../../../src/lib/schemas/mixtape.ts","../../../../src/app/mixtapes/MixtapesCatalog.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/mixtapes/page.tsx"],"sourcesContent":["import path from \"path\";\nimport matter from \"gray-matter\";\nimport { getContentDir, getMarkdownFilesInDir, readMarkdownFile } from \"./fs-helpers\";\nimport { ArtistSchema, type Artist } from \"../schemas/artist\";\n\nexport type ArtistDocument = {\n  meta: Artist;\n  body: string;\n};\n\nfunction parseArtistFile(filePath: string): ArtistDocument {\n  const raw = readMarkdownFile(filePath);\n  const { data, content } = matter(raw);\n\n  const meta = ArtistSchema.parse(data);\n\n  return {\n    meta,\n    body: content,\n  };\n}\n\n/**\n * Load a single artist by slug (e.g. \"dyson-hope\")\n */\nexport function loadArtistBySlug(slug: string): ArtistDocument | null {\n  const artistsDir = getContentDir(\"artists\");\n  const files = getMarkdownFilesInDir(artistsDir);\n\n  const file = files.find((f) => f.includes(slug));\n  if (!file) return null;\n\n  const fullPath = path.join(artistsDir, file);\n  return parseArtistFile(fullPath);\n}\n\n/**\n * Load all artists, sorted by name\n */\nexport function loadAllArtists(): ArtistDocument[] {\n  const artistsDir = getContentDir(\"artists\");\n  const files = getMarkdownFilesInDir(artistsDir);\n\n  const docs = files.map((file) => {\n    const fullPath = path.join(artistsDir, file);\n    return parseArtistFile(fullPath);\n  });\n\n  return docs.sort((a, b) => a.meta.name.localeCompare(b.meta.name));\n}\n","import { z } from \"zod\";\n\n// Expand this union if you add more role types later\nconst RoleEnum = z.enum([\"producer\", \"dj\", \"live\", \"vocalist\"]);\n\nexport const ArtistSchema = z.object({\n  id: z.string().min(1),\n  slug: z.string().min(1),\n  name: z.string().min(1),\n\n  roles: z.array(RoleEnum).nonempty(),\n\n  location: z.string().min(1).optional(),\n  for_fans_of: z.array(z.string()).default([]),\n\n  photo: z.string().min(1).optional(),\n\n  instagram_handle: z.string().optional(),\n  social: z\n    .object({\n      instagram: z.string().url().optional(),\n      soundcloud: z.string().url().optional(),\n      spotify: z.string().url().optional(),\n      bandcamp: z.string().url().optional(),\n      youtube: z.string().url().optional(),\n      other: z.array(z.string().url()).optional(),\n    })\n    .partial()\n    .optional(),\n\n  booking_email: z.string().email().optional(),\n  management_email: z.string().email().optional().or(z.literal(\"\")),\n\n  label_join_year: z.number().int().optional(),\n  active: z.boolean().default(true),\n\n  featured_releases: z.array(z.string()).default([]),\n  featured_mixtapes: z.array(z.string()).default([]),\n\n  genres_primary: z.array(z.string()).default([]),\n  tags: z.array(z.string()).default([]),\n\n  // Markdown body will be handled separately (not in frontmatter)\n});\n\nexport type Artist = z.infer<typeof ArtistSchema>;\n","import path from \"path\";\nimport matter from \"gray-matter\";\nimport { getContentDir, getMarkdownFilesInDir, readMarkdownFile } from \"./fs-helpers\";\nimport { MixtapeSchema, type Mixtape } from \"../schemas/mixtape\";\n\nexport type MixtapeDocument = {\n  meta: Mixtape;\n  body: string;\n};\n\nfunction parseMixtapeFile(filePath: string): MixtapeDocument {\n  const raw = readMarkdownFile(filePath);\n  const { data, content } = matter(raw);\n\n  const meta = MixtapeSchema.parse(data);\n\n  return {\n    meta,\n    body: content,\n  };\n}\n\n/**\n * Load a single mixtape by slug (e.g. \"dyson-hope-mixtape-2025\")\n */\nexport function loadMixtapeBySlug(slug: string): MixtapeDocument | null {\n  const mixtapesDir = getContentDir(\"mixtapes\");\n  const files = getMarkdownFilesInDir(mixtapesDir);\n\n  const file = files.find((f) => f.includes(slug));\n  if (!file) return null;\n\n  const fullPath = path.join(mixtapesDir, file);\n  return parseMixtapeFile(fullPath);\n}\n\n/**\n * Load all mixtapes, sorted by date desc\n */\nexport function loadAllMixtapes(): MixtapeDocument[] {\n  const mixtapesDir = getContentDir(\"mixtapes\");\n  const files = getMarkdownFilesInDir(mixtapesDir);\n\n  const docs = files.map((file) => {\n    const fullPath = path.join(mixtapesDir, file);\n    return parseMixtapeFile(fullPath);\n  });\n\n  return docs.sort((a, b) => {\n    const da = new Date(a.meta.date).getTime();\n    const db = new Date(b.meta.date).getTime();\n    return db - da;\n  });\n}\n","import { z } from \"zod\";\n\nconst PlatformEnum = z.enum([\"youtube\", \"soundcloud\", \"mixcloud\", \"other\"]);\n\nexport const MixtapeSchema = z.object({\n  id: z.string().min(1),\n  slug: z.string().min(1),\n\n  artist_id: z.string().min(1),\n\n  title: z.string().min(1),\n\n  event_name: z.string().optional(),\n  event_series: z.string().optional(),\n\n  date: z.string().min(1), // ISO string in frontmatter, e.g. \"2025-08-14\"\n  location: z.string().optional(),\n\n  platform: PlatformEnum,\n  embed_url: z.string().url(),\n  external_url: z.string().url().optional(),\n\n  duration_minutes: z.number().int().optional(),\n\n  cover_image: z.string().min(1),\n  thumbnail_image: z.string().optional(),\n\n  genres: z.array(z.string()).default([]),\n  moods: z.array(z.string()).default([]),\n  tags: z.array(z.string()).default([]),\n\n  featured: z.boolean().default(false),\n  active: z.boolean().default(true),\n\n  related_releases: z.array(z.string()).default([]),\n\n  // Mixtape description body will be markdown outside frontmatter\n});\n\nexport type Mixtape = z.infer<typeof MixtapeSchema>;\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/mixtapes/MixtapesCatalog.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/mixtapes/MixtapesCatalog.tsx\",\n    \"default\",\n);\n","// src/app/mixtapes/page.tsx\n\nimport { loadAllMixtapes } from \"../../lib/content/load-mixtapes\";\nimport { loadAllArtists } from \"../../lib/content/load-artists\";\nimport MixtapesCatalog from \"./MixtapesCatalog\";\n\nexport default function MixtapesPage() {\n  const mixtapes = loadAllMixtapes();\n  const artists = loadAllArtists();\n\n  const activeMixtapes = mixtapes.filter((m) => m.meta.active);\n\n  return <MixtapesCatalog mixtapes={activeMixtapes} artists={artists} />;\n}\n"],"names":[],"mappings":"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","ignoreList":[4]}