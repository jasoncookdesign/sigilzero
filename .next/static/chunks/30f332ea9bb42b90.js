(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32806,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(57688);function s({src:e,alt:s,width:l,height:i,placeholderText:o,className:n,fill:d,objectFit:c="cover"}){var m;let u,x,g,h,p,b,f,v,y,j,N,[w,S]=(0,r.useState)(!1),C=!e||""===e.trim()||w,$=C?(u=Math.max(10,Math.min(4e3,Math.floor((m={width:l,height:i,format:"svg",background:"1a1a1a",color:"666666",text:o||`${l}x${i}`}).width))),g=(x=m.height?Math.max(10,Math.min(4e3,Math.floor(m.height))):void 0)?`${u}x${x}`:`${u}`,h=m.format??"png",p=m.background??"EEE",b=m.color??"31343C",f=`.${h}`,v=`${encodeURIComponent(String(p))}/${encodeURIComponent(String(b))}`,y=`https://placehold.co/${g}/${v}${f}`,j=new URLSearchParams,m.text&&j.set("text",String(m.text)),m.font&&j.set("font",String(m.font)),m.retina&&"svg"!==h&&j.set("@",`${m.retina}x`),(N=j.toString())&&(y+=`?${N}`),y):e;return d?(0,t.jsx)(a.default,{src:$,alt:s,fill:!0,className:n,style:{objectFit:c},onError:()=>!C&&S(!0),unoptimized:C}):(0,t.jsx)(a.default,{src:$,alt:s,width:l,height:i,className:n,style:{objectFit:c},onError:()=>!C&&S(!0),unoptimized:C})}e.s(["default",()=>s],32806)},39964,e=>{"use strict";var t=e.i(43476),r=e.i(22016);function a({href:e,children:a}){let s=(0,t.jsx)("div",{className:"card",children:a});return e?(0,t.jsx)(r.default,{href:e,className:"block text-inherit no-underline",children:s}):s}e.s(["Card",()=>a])},68889,e=>{"use strict";var t=e.i(43476);function r({children:e,className:r=""}){return(0,t.jsx)("section",{className:`py-16 section-band ${r}`,children:e})}e.s(["default",()=>r])},20738,e=>{"use strict";var t=e.i(43476),r=e.i(39964),a=e.i(32806);function s({mixtape:e,artist:s}){return(0,t.jsx)(r.Card,{href:`/mixtapes/${e.slug}`,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"relative w-full aspect-square overflow-hidden bg-gray-900",children:(0,t.jsx)(a.default,{src:e.cover_image,alt:e.title,width:400,height:400,fill:!0,placeholderText:e.title,className:"object-cover"})}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("h3",{className:"h-sm mb-2",children:e.title}),(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:e.date}),s&&(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.platform,e.event_name&&` \xb7 ${e.event_name}`,e.location&&` \xb7 ${e.location}`]})]})]})})}e.s(["default",()=>s])},64643,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(20738),s=e.i(68889);function l({mixtapes:e,artists:l}){let[i,o]=(0,r.useState)(""),[n,d]=(0,r.useState)("all"),[c,m]=(0,r.useState)("all"),[u,x]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[p,b]=(0,r.useState)([]),[f,v]=(0,r.useState)("all"),y=(0,r.useMemo)(()=>Object.fromEntries(l.map(e=>[e.meta.id,e.meta])),[l]),j=(0,r.useMemo)(()=>l.map(e=>e.meta).sort((e,t)=>e.name.localeCompare(t.name)),[l]),N=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.platform))).sort(),[e]),w=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),S=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),C=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.tags))).sort(),[e]),$=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.date).getFullYear()))).sort((e,t)=>t-e),[e]),M=(0,r.useMemo)(()=>{var t;let r;return t={query:i,artistIds:"all"===n?void 0:[n],platforms:"all"===c?void 0:[c],genres:u.length>0?u:void 0,moods:g.length>0?g:void 0,tags:p.length>0?p:void 0,year:"all"===f?void 0:parseInt(f,10)},r=t.query?.trim()??"",e.filter(({meta:e})=>(!r||!!function(e,t){let r=e.toLowerCase(),a=t.toLowerCase().trim();if(!a||r.includes(a))return!0;let s=0;for(let e=0;e<a.length;e++){let t=a.charAt(e),l=r.indexOf(t,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.event_name??"",e.location??"",e.artist_id].join(" "),r))&&(!t.artistIds||!(t.artistIds.length>0)||!!t.artistIds.includes(e.artist_id))&&(!t.platforms||!(t.platforms.length>0)||!!t.platforms.includes(e.platform))&&(!t.genres||!(t.genres.length>0)||!!e.genres.some(e=>t.genres.includes(e)))&&(!t.moods||!(t.moods.length>0)||!!e.moods.some(e=>t.moods.includes(e)))&&(!t.tags||!(t.tags.length>0)||!!e.tags.some(e=>t.tags.includes(e)))&&(!t.year||new Date(e.date).getFullYear()===t.year)&&!0)},[e,i,n,c,u,g,p,f]),k=i||"all"!==n||"all"!==c||u.length>0||g.length>0||p.length>0||"all"!==f,A=()=>{o(""),d("all"),m("all"),x([]),h([]),b([]),v("all")};return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"container-sigil px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Mixtapes"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search titles, events, locations, or artists...",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[(0,t.jsxs)("select",{"aria-label":"Filter by artist",value:n,onChange:e=>d(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All artists"}),j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by platform",value:c,onChange:e=>m(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All platforms"}),N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{"aria-label":"Filter by year",value:f,onChange:e=>v(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All years"}),$.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),w.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,t.jsx)("button",{onClick:()=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${u.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),S.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,t.jsx)("button",{onClick:()=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${g.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),C.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>(0,t.jsx)("button",{onClick:()=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${p.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),k&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:M.length})," of"," ",(0,t.jsx)("span",{className:"font-semibold",children:e.length})," mixtapes"]}),(0,t.jsx)("button",{onClick:A,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(({meta:e})=>{let r=y[e.artist_id]??null;return(0,t.jsx)(a.default,{mixtape:e,artist:r},e.id)})}),0===M.length&&(0,t.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No mixtapes match the current filters. ",(0,t.jsx)("button",{onClick:A,className:"underline hover:text-white",children:"Clear filters"})]})]})})}e.s(["default",()=>l],64643)}]);