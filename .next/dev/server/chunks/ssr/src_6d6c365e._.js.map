{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/lib/filters/mixtapes.ts"],"sourcesContent":["// src/lib/filters/mixtapes.ts\nimport type { MixtapeDocument } from \"../content/load-mixtapes\";\n\nexport type MixtapeFilterCriteria = {\n  query?: string | undefined;        // text search\n  artistIds?: string[] | undefined;  // [\"dyson-hope\", \"nototo\", \"b-squared\", ...]\n  platforms?: string[] | undefined;  // [\"soundcloud\", \"mixcloud\", \"youtube\", \"other\"]\n  genres?: string[] | undefined;     // [\"techno\", \"house\", ...]\n  moods?: string[] | undefined;      // [\"dark\", \"hypnotic\", ...]\n  tags?: string[] | undefined;       // custom tags\n  year?: number | undefined;         // 2024, 2025, etc.\n};\n\n// Fuzzy search: checks if query matches in text\nfunction fuzzyMatch(haystack: string, query: string): boolean {\n  const h = haystack.toLowerCase();\n  const q = query.toLowerCase().trim();\n  if (!q) return true;\n\n  // Exact substring match (case-insensitive)\n  if (h.includes(q)) return true;\n\n  // Fuzzy: all characters of query appear in haystack in order\n  let hIdx = 0;\n  for (let qIdx = 0; qIdx < q.length; qIdx++) {\n    const char = q.charAt(qIdx);\n    const charIdx = h.indexOf(char, hIdx);\n    if (charIdx === -1) return false;\n    hIdx = charIdx + 1;\n  }\n  return true;\n}\n\nexport function filterMixtapes(\n  mixtapes: MixtapeDocument[],\n  criteria: MixtapeFilterCriteria\n): MixtapeDocument[] {\n  const q = criteria.query?.trim() ?? \"\";\n\n  return mixtapes.filter(({ meta }) => {\n    // Fuzzy text search: title + event + location + artist_id\n    if (q) {\n      const searchText = [\n        meta.title,\n        meta.event_name ?? \"\",\n        meta.location ?? \"\",\n        meta.artist_id,\n      ].join(\" \");\n\n      if (!fuzzyMatch(searchText, q)) return false;\n    }\n\n    // Artist filter\n    if (criteria.artistIds && criteria.artistIds.length > 0) {\n      if (!criteria.artistIds.includes(meta.artist_id)) return false;\n    }\n\n    // Platform filter\n    if (criteria.platforms && criteria.platforms.length > 0) {\n      if (!criteria.platforms.includes(meta.platform)) return false;\n    }\n\n    // Genre filter\n    if (criteria.genres && criteria.genres.length > 0) {\n      const matchesGenre = meta.genres.some((g) =>\n        criteria.genres!.includes(g)\n      );\n      if (!matchesGenre) return false;\n    }\n\n    // Mood filter\n    if (criteria.moods && criteria.moods.length > 0) {\n      const matchesMood = meta.moods.some((m) =>\n        criteria.moods!.includes(m)\n      );\n      if (!matchesMood) return false;\n    }\n\n    // Tag filter\n    if (criteria.tags && criteria.tags.length > 0) {\n      const matchesTag = meta.tags.some((t) =>\n        criteria.tags!.includes(t)\n      );\n      if (!matchesTag) return false;\n    }\n\n    // Year filter (from date string)\n    if (criteria.year) {\n      const year = new Date(meta.date).getFullYear();\n      if (year !== criteria.year) return false;\n    }\n\n    return true;\n  });\n}\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAa9B,gDAAgD;AAChD,SAAS,WAAW,QAAgB,EAAE,KAAa;IACjD,MAAM,IAAI,SAAS,WAAW;IAC9B,MAAM,IAAI,MAAM,WAAW,GAAG,IAAI;IAClC,IAAI,CAAC,GAAG,OAAO;IAEf,2CAA2C;IAC3C,IAAI,EAAE,QAAQ,CAAC,IAAI,OAAO;IAE1B,6DAA6D;IAC7D,IAAI,OAAO;IACX,IAAK,IAAI,OAAO,GAAG,OAAO,EAAE,MAAM,EAAE,OAAQ;QAC1C,MAAM,OAAO,EAAE,MAAM,CAAC;QACtB,MAAM,UAAU,EAAE,OAAO,CAAC,MAAM;QAChC,IAAI,YAAY,CAAC,GAAG,OAAO;QAC3B,OAAO,UAAU;IACnB;IACA,OAAO;AACT;AAEO,SAAS,eACd,QAA2B,EAC3B,QAA+B;IAE/B,MAAM,IAAI,SAAS,KAAK,EAAE,UAAU;IAEpC,OAAO,SAAS,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE;QAC9B,0DAA0D;QAC1D,IAAI,GAAG;YACL,MAAM,aAAa;gBACjB,KAAK,KAAK;gBACV,KAAK,UAAU,IAAI;gBACnB,KAAK,QAAQ,IAAI;gBACjB,KAAK,SAAS;aACf,CAAC,IAAI,CAAC;YAEP,IAAI,CAAC,WAAW,YAAY,IAAI,OAAO;QACzC;QAEA,gBAAgB;QAChB,IAAI,SAAS,SAAS,IAAI,SAAS,SAAS,CAAC,MAAM,GAAG,GAAG;YACvD,IAAI,CAAC,SAAS,SAAS,CAAC,QAAQ,CAAC,KAAK,SAAS,GAAG,OAAO;QAC3D;QAEA,kBAAkB;QAClB,IAAI,SAAS,SAAS,IAAI,SAAS,SAAS,CAAC,MAAM,GAAG,GAAG;YACvD,IAAI,CAAC,SAAS,SAAS,CAAC,QAAQ,CAAC,KAAK,QAAQ,GAAG,OAAO;QAC1D;QAEA,eAAe;QACf,IAAI,SAAS,MAAM,IAAI,SAAS,MAAM,CAAC,MAAM,GAAG,GAAG;YACjD,MAAM,eAAe,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,IACrC,SAAS,MAAM,CAAE,QAAQ,CAAC;YAE5B,IAAI,CAAC,cAAc,OAAO;QAC5B;QAEA,cAAc;QACd,IAAI,SAAS,KAAK,IAAI,SAAS,KAAK,CAAC,MAAM,GAAG,GAAG;YAC/C,MAAM,cAAc,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,IACnC,SAAS,KAAK,CAAE,QAAQ,CAAC;YAE3B,IAAI,CAAC,aAAa,OAAO;QAC3B;QAEA,aAAa;QACb,IAAI,SAAS,IAAI,IAAI,SAAS,IAAI,CAAC,MAAM,GAAG,GAAG;YAC7C,MAAM,aAAa,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,IACjC,SAAS,IAAI,CAAE,QAAQ,CAAC;YAE1B,IAAI,CAAC,YAAY,OAAO;QAC1B;QAEA,iCAAiC;QACjC,IAAI,SAAS,IAAI,EAAE;YACjB,MAAM,OAAO,IAAI,KAAK,KAAK,IAAI,EAAE,WAAW;YAC5C,IAAI,SAAS,SAAS,IAAI,EAAE,OAAO;QACrC;QAEA,OAAO;IACT;AACF"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/components/ui/Card.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport type { ReactNode } from \"react\";\n\ntype CardProps = {\n  href?: string;\n  children: ReactNode;\n};\n\nexport function Card({ href, children }: CardProps) {\n  const inner = (\n    <div className=\"card\">\n      {children}\n    </div>\n  );\n\n  if (href) {\n    return (\n      <Link\n        href={href}\n        className=\"block text-inherit no-underline\"\n      >\n        {inner}\n      </Link>\n    );\n  }\n\n  return inner;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAa;IAChD,MAAM,sBACJ,8OAAC;QAAI,WAAU;kBACZ;;;;;;IAIL,IAAI,MAAM;QACR,qBACE,8OAAC,uKAAI;YACH,MAAM;YACN,WAAU;sBAET;;;;;;IAGP;IAEA,OAAO;AACT"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/lib/placehold.ts"],"sourcesContent":["export type PlaceholdOptions = {\n  width: number;\n  height?: number;\n  format?: \"png\" | \"svg\" | \"jpeg\" | \"jpg\" | \"webp\" | \"avif\" | \"gif\";\n  background?: string; // hex or css name\n  color?: string; // text color\n  text?: string;\n  font?: string;\n  retina?: 2 | 3;\n};\n\nconst DEFAULT_BG = \"EEE\";\nconst DEFAULT_FG = \"31343C\";\n\n/**\n * Build a placehold.co URL with given dimensions and options.\n * Safe to use in both client and server contexts.\n */\nexport function buildPlaceholdUrl(opts: PlaceholdOptions): string {\n  const width = Math.max(10, Math.min(4000, Math.floor(opts.width)));\n  const height = opts.height ? Math.max(10, Math.min(4000, Math.floor(opts.height))) : undefined;\n  const size = height ? `${width}x${height}` : `${width}`;\n\n  const format = opts.format ?? \"png\";\n  const bg = opts.background ?? DEFAULT_BG;\n  const fg = opts.color ?? DEFAULT_FG;\n\n  // base path like /600x400/000/FFF.png\n  const extPart = `.${format}`;\n  const colorPart = `${encodeURIComponent(String(bg))}/${encodeURIComponent(String(fg))}`;\n\n  let url = `https://placehold.co/${size}/${colorPart}${extPart}`;\n\n  const qs = new URLSearchParams();\n  if (opts.text) qs.set(\"text\", String(opts.text));\n  if (opts.font) qs.set(\"font\", String(opts.font));\n  if (opts.retina && (format !== \"svg\")) qs.set(\"@\", `${opts.retina}x`);\n\n  const q = qs.toString();\n  if (q) url += `?${q}`;\n\n  return url;\n}\n\nexport default {\n  buildPlaceholdUrl,\n};\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,aAAa;AACnB,MAAM,aAAa;AAMZ,SAAS,kBAAkB,IAAsB;IACtD,MAAM,QAAQ,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,KAAK,KAAK;IAC/D,MAAM,SAAS,KAAK,MAAM,GAAG,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,MAAM;IACrF,MAAM,OAAO,SAAS,GAAG,MAAM,CAAC,EAAE,QAAQ,GAAG,GAAG,OAAO;IAEvD,MAAM,SAAS,KAAK,MAAM,IAAI;IAC9B,MAAM,KAAK,KAAK,UAAU,IAAI;IAC9B,MAAM,KAAK,KAAK,KAAK,IAAI;IAEzB,sCAAsC;IACtC,MAAM,UAAU,CAAC,CAAC,EAAE,QAAQ;IAC5B,MAAM,YAAY,GAAG,mBAAmB,OAAO,KAAK,CAAC,EAAE,mBAAmB,OAAO,MAAM;IAEvF,IAAI,MAAM,CAAC,qBAAqB,EAAE,KAAK,CAAC,EAAE,YAAY,SAAS;IAE/D,MAAM,KAAK,IAAI;IACf,IAAI,KAAK,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,OAAO,KAAK,IAAI;IAC9C,IAAI,KAAK,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,OAAO,KAAK,IAAI;IAC9C,IAAI,KAAK,MAAM,IAAK,WAAW,OAAQ,GAAG,GAAG,CAAC,KAAK,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC;IAEpE,MAAM,IAAI,GAAG,QAAQ;IACrB,IAAI,GAAG,OAAO,CAAC,CAAC,EAAE,GAAG;IAErB,OAAO;AACT;uCAEe;IACb;AACF"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/components/PlaceholderImage.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Image from \"next/image\";\nimport { buildPlaceholdUrl } from \"../lib/placehold\";\n\ntype PlaceholderImageProps = {\n  src?: string | null | undefined;\n  alt: string;\n  width: number;\n  height: number;\n  placeholderText?: string | undefined;\n  className?: string | undefined;\n  fill?: boolean | undefined;\n  objectFit?: \"cover\" | \"contain\" | undefined;\n};\n\n/**\n * Wrapper around Next.js Image that falls back to placehold.co if src is missing/invalid.\n * Falls back to placeholder if src is undefined, null, or empty string.\n */\nexport default function PlaceholderImage({\n  src,\n  alt,\n  width,\n  height,\n  placeholderText,\n  className,\n  fill,\n  objectFit = \"cover\",\n}: PlaceholderImageProps) {\n  const [imgError, setImgError] = useState(false);\n\n  // Use placeholder if src is missing or if image failed to load\n  const usePlaceholder = !src || src.trim() === \"\" || imgError;\n\n  const finalSrc = usePlaceholder\n    ? buildPlaceholdUrl({\n        width,\n        height,\n        format: \"svg\",\n        background: \"1a1a1a\",\n        color: \"666666\",\n        text: placeholderText || `${width}x${height}`,\n      })\n    : src;\n\n  if (fill) {\n    return (\n      <Image\n        src={finalSrc}\n        alt={alt}\n        fill\n        className={className}\n        style={{ objectFit }}\n        onError={() => !usePlaceholder && setImgError(true)}\n        unoptimized={usePlaceholder}\n      />\n    );\n  }\n\n  return (\n    <Image\n      src={finalSrc}\n      alt={alt}\n      width={width}\n      height={height}\n      className={className}\n      style={{ objectFit }}\n      onError={() => !usePlaceholder && setImgError(true)}\n      unoptimized={usePlaceholder}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAqBe,SAAS,iBAAiB,EACvC,GAAG,EACH,GAAG,EACH,KAAK,EACL,MAAM,EACN,eAAe,EACf,SAAS,EACT,IAAI,EACJ,YAAY,OAAO,EACG;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,+DAA+D;IAC/D,MAAM,iBAAiB,CAAC,OAAO,IAAI,IAAI,OAAO,MAAM;IAEpD,MAAM,WAAW,iBACb,IAAA,4IAAiB,EAAC;QAChB;QACA;QACA,QAAQ;QACR,YAAY;QACZ,OAAO;QACP,MAAM,mBAAmB,GAAG,MAAM,CAAC,EAAE,QAAQ;IAC/C,KACA;IAEJ,IAAI,MAAM;QACR,qBACE,8OAAC,wIAAK;YACJ,KAAK;YACL,KAAK;YACL,IAAI;YACJ,WAAW;YACX,OAAO;gBAAE;YAAU;YACnB,SAAS,IAAM,CAAC,kBAAkB,YAAY;YAC9C,aAAa;;;;;;IAGnB;IAEA,qBACE,8OAAC,wIAAK;QACJ,KAAK;QACL,KAAK;QACL,OAAO;QACP,QAAQ;QACR,WAAW;QACX,OAAO;YAAE;QAAU;QACnB,SAAS,IAAM,CAAC,kBAAkB,YAAY;QAC9C,aAAa;;;;;;AAGnB"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/components/cards/MixtapeCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Card } from \"../ui/Card\";\nimport type { MixtapeDocument } from \"../../lib/content/load-mixtapes\";\nimport type { ArtistDocument } from \"../../lib/content/load-artists\";\nimport PlaceholderImage from \"../PlaceholderImage\";\n\ntype Props = {\n  mixtape: MixtapeDocument[\"meta\"];\n  artist?: ArtistDocument[\"meta\"] | null;\n};\n\nexport default function MixtapeCard({ mixtape, artist }: Props) {\n  return (\n    <Card href={`/mixtapes/${mixtape.slug}`}>\n      <div>\n        <div className=\"relative w-full aspect-square overflow-hidden bg-gray-900\">\n          <PlaceholderImage\n            src={mixtape.cover_image}\n            alt={mixtape.title}\n            width={400}\n            height={400}\n            fill\n            placeholderText={mixtape.title}\n            className=\"object-cover\"\n          />\n        </div>\n\n        <div className=\"p-3 sm:p-4\">\n          <h3 className=\"h-sm mb-2\">{\n            mixtape.title\n          }</h3>\n\n          <div className=\"mb-2 text-sm text-muted\">\n            {mixtape.date}\n          </div>\n\n          {artist && (\n            <div className=\"mb-2 text-sm text-muted\">\n              {artist.name}\n            </div>\n          )}\n\n          <div className=\"text-xs text-gray-600\">\n            {mixtape.platform}\n            {mixtape.event_name && ` · ${mixtape.event_name}`}\n            {mixtape.location && ` · ${mixtape.location}`}\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAGA;AALA;;;;AAYe,SAAS,YAAY,EAAE,OAAO,EAAE,MAAM,EAAS;IAC5D,qBACE,8OAAC,wIAAI;QAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;kBACrC,cAAA,8OAAC;;8BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,iJAAgB;wBACf,KAAK,QAAQ,WAAW;wBACxB,KAAK,QAAQ,KAAK;wBAClB,OAAO;wBACP,QAAQ;wBACR,IAAI;wBACJ,iBAAiB,QAAQ,KAAK;wBAC9B,WAAU;;;;;;;;;;;8BAId,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACZ,QAAQ,KAAK;;;;;;sCAGf,8OAAC;4BAAI,WAAU;sCACZ,QAAQ,IAAI;;;;;;wBAGd,wBACC,8OAAC;4BAAI,WAAU;sCACZ,OAAO,IAAI;;;;;;sCAIhB,8OAAC;4BAAI,WAAU;;gCACZ,QAAQ,QAAQ;gCAChB,QAAQ,UAAU,IAAI,CAAC,GAAG,EAAE,QAAQ,UAAU,EAAE;gCAChD,QAAQ,QAAQ,IAAI,CAAC,GAAG,EAAE,QAAQ,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMzD"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/components/Section.tsx"],"sourcesContent":["import React from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n  className?: string;\n};\n\n/**\n * Section wrapper that applies full-width alternating background colors.\n * Uses nth-of-type(odd/even) to alternate between two dark shades,\n * independent of the actual order or other elements on the page.\n * Children should be wrapped in a container (e.g., div with container-sigil class)\n * to constrain content width while allowing the background to span full width.\n */\nexport default function Section({ children, className = \"\" }: Props) {\n  return (\n    <section\n      className={`py-16 section-band ${className}`}\n    >\n      {children}\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAce,SAAS,QAAQ,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAS;IACjE,qBACE,8OAAC;QACC,WAAW,CAAC,mBAAmB,EAAE,WAAW;kBAE3C;;;;;;AAGP"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Users/jcodec/Sites/SIGIL.ZERO/sigilzero/src/app/mixtapes/MixtapesCatalog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nimport type { MixtapeDocument } from \"../../lib/content/load-mixtapes\";\nimport type { ArtistDocument } from \"../../lib/content/load-artists\";\nimport { filterMixtapes } from \"../../lib/filters/mixtapes\";\nimport MixtapeCard from \"../../components/cards/MixtapeCard\";\nimport Section from \"../../components/Section\";\n\ntype Props = {\n  mixtapes: MixtapeDocument[];\n  artists: ArtistDocument[];\n};\n\nexport default function MixtapesCatalog({ mixtapes, artists }: Props) {\n  const [query, setQuery] = useState(\"\");\n  const [artistId, setArtistId] = useState<string>(\"all\");\n  const [platform, setPlatform] = useState<string>(\"all\");\n  const [genres, setGenres] = useState<string[]>([]);\n  const [moods, setMoods] = useState<string[]>([]);\n  const [tags, setTags] = useState<string[]>([]);\n  const [year, setYear] = useState<string>(\"all\");\n\n  const artistById = useMemo(\n    () => Object.fromEntries(artists.map((a) => [a.meta.id, a.meta])),\n    [artists]\n  );\n\n  const allArtists = useMemo(\n    () =>\n      artists\n        .map((a) => a.meta)\n        .sort((a, b) => a.name.localeCompare(b.name)),\n    [artists]\n  );\n\n  const allPlatforms = useMemo(\n    () =>\n      Array.from(new Set(mixtapes.map((m) => m.meta.platform))).sort(),\n    [mixtapes]\n  );\n\n  const allGenres = useMemo(\n    () =>\n      Array.from(\n        new Set(mixtapes.flatMap((m) => m.meta.genres))\n      ).sort(),\n    [mixtapes]\n  );\n\n  const allMoods = useMemo(\n    () =>\n      Array.from(\n        new Set(mixtapes.flatMap((m) => m.meta.moods))\n      ).sort(),\n    [mixtapes]\n  );\n\n  const allTags = useMemo(\n    () =>\n      Array.from(\n        new Set(mixtapes.flatMap((m) => m.meta.tags))\n      ).sort(),\n    [mixtapes]\n  );\n\n  const allYears = useMemo(\n    () =>\n      Array.from(\n        new Set(\n          mixtapes.map((m) => new Date(m.meta.date).getFullYear())\n        )\n      ).sort((a, b) => b - a),\n    [mixtapes]\n  );\n\n  const filtered = useMemo(\n    () =>\n      filterMixtapes(mixtapes, {\n        query,\n        artistIds: artistId === \"all\" ? undefined : [artistId],\n        platforms: platform === \"all\" ? undefined : [platform],\n        genres: genres.length > 0 ? genres : undefined,\n        moods: moods.length > 0 ? moods : undefined,\n        tags: tags.length > 0 ? tags : undefined,\n        year: year === \"all\" ? undefined : parseInt(year, 10),\n      }),\n    [mixtapes, query, artistId, platform, genres, moods, tags, year]\n  );\n\n  const isFiltered =\n    query ||\n    artistId !== \"all\" ||\n    platform !== \"all\" ||\n    genres.length > 0 ||\n    moods.length > 0 ||\n    tags.length > 0 ||\n    year !== \"all\";\n\n  const clearFilters = () => {\n    setQuery(\"\");\n    setArtistId(\"all\");\n    setPlatform(\"all\");\n    setGenres([]);\n    setMoods([]);\n    setTags([]);\n    setYear(\"all\");\n  };\n\n  const toggleGenre = (g: string) => {\n    setGenres((prev) =>\n      prev.includes(g) ? prev.filter((x) => x !== g) : [...prev, g]\n    );\n  };\n\n  const toggleMood = (m: string) => {\n    setMoods((prev) =>\n      prev.includes(m) ? prev.filter((x) => x !== m) : [...prev, m]\n    );\n  };\n\n  const toggleTag = (t: string) => {\n    setTags((prev) =>\n      prev.includes(t) ? prev.filter((x) => x !== t) : [...prev, t]\n    );\n  };\n\n  return (\n    <Section>\n      <div className=\"px-4 container-sigil sm:px-6 lg:px-8\">\n       <h1 className=\"mb-6 text-center text-white h-display\" data-testid=\"mixtapes-page-title\">Mixtapes</h1>\n \n        {/* Search input */}\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search titles, events, locations, or artists...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className=\"w-full px-3 py-2 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600\"\n          />\n        </div>\n\n      {/* Dropdown filters */}\n      <div className=\"grid grid-cols-1 gap-2 mb-4 sm:grid-cols-2 lg:grid-cols-4\">\n        {/* Artist */}\n        <select\n          aria-label=\"Filter by artist\"\n          value={artistId}\n          onChange={(e) => setArtistId(e.target.value)}\n          className=\"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All artists</option>\n          {allArtists.map((a) => (\n            <option key={a.id} value={a.id}>\n              {a.name}\n            </option>\n          ))}\n        </select>\n\n        {/* Platform */}\n        <select\n          aria-label=\"Filter by platform\"\n          value={platform}\n          onChange={(e) => setPlatform(e.target.value)}\n          className=\"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All platforms</option>\n          {allPlatforms.map((p) => (\n            <option key={p} value={p}>\n              {p}\n            </option>\n          ))}\n        </select>\n\n        {/* Year */}\n        <select\n          aria-label=\"Filter by year\"\n          value={year}\n          onChange={(e) => setYear(e.target.value)}\n          className=\"px-2 py-1 text-sm border border-gray-700 rounded bg-gray-950 focus:outline-none focus:border-gray-600\"\n        >\n          <option value=\"all\">All years</option>\n          {allYears.map((y) => (\n            <option key={y} value={y}>\n              {y}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Genre pills */}\n      {allGenres.length > 0 && (\n        <div className=\"mb-4\">\n          <label className=\"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase\">\n            Genres\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {allGenres.map((g) => (\n              <button\n                key={g}\n                onClick={() => toggleGenre(g)}\n                className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                  genres.includes(g)\n                    ? \"bg-white text-black border border-white\"\n                    : \"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600\"\n                }`}\n              >\n                {g}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mood pills */}\n      {allMoods.length > 0 && (\n        <div className=\"mb-4\">\n          <label className=\"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase\">\n            Moods\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {allMoods.map((m) => (\n              <button\n                key={m}\n                onClick={() => toggleMood(m)}\n                className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                  moods.includes(m)\n                    ? \"bg-white text-black border border-white\"\n                    : \"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600\"\n                }`}\n              >\n                {m}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Tag pills */}\n      {allTags.length > 0 && (\n        <div className=\"mb-4\">\n          <label className=\"block mb-2 text-xs font-medium tracking-wide text-gray-400 uppercase\">\n            Tags\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {allTags.map((t) => (\n              <button\n                key={t}\n                onClick={() => toggleTag(t)}\n                className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                  tags.includes(t)\n                    ? \"bg-white text-black border border-white\"\n                    : \"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600\"\n                }`}\n              >\n                {t}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Active filters display and clear button */}\n      {isFiltered && (\n        <div className=\"p-3 mb-6 bg-gray-900 border border-gray-800 rounded\">\n          <div className=\"flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center\">\n            <div className=\"text-sm text-gray-300\">\n              Showing <span className=\"font-semibold\">{filtered.length}</span> of{\" \"}\n              <span className=\"font-semibold\">{mixtapes.length}</span> mixtapes\n            </div>\n            <button\n              onClick={clearFilters}\n              className=\"px-3 py-1 text-sm text-white transition-colors bg-gray-800 border border-gray-700 rounded hover:bg-gray-700\"\n            >\n              Clear filters\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Grid */}\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        {filtered.map(({ meta }) => {\n          const artist = artistById[meta.artist_id] ?? null;\n          return <MixtapeCard key={meta.id} mixtape={meta} artist={artist} />;\n        })}\n      </div>\n\n      {filtered.length === 0 && (\n        <p className=\"mt-4 text-sm opacity-70\">\n          No mixtapes match the current filters. <button onClick={clearFilters} className=\"underline hover:text-white\">Clear filters</button>\n        </p>\n      )}\n      </div>\n    </Section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}