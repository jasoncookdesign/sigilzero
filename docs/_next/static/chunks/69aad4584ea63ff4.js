(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2184,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r=(0,a.createContext)(void 0),l=({children:e})=>{let l=(0,a.useRef)(null),[s,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[o,u]=(0,a.useState)([]),[d,h]=(0,a.useState)(0),[x,m]=(0,a.useState)(0),[f,v]=(0,a.useState)(0),[g,b]=(0,a.useState)(!1),[p,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("audio-player-state");if(e){let{playlist:t,index:a,currentTime:r}=JSON.parse(e);t&&Array.isArray(t)&&(u(t),h(a??0),m(r??0))}}catch(e){}y(!0)},[]),(0,a.useEffect)(()=>{if(p)try{localStorage.setItem("audio-player-state",JSON.stringify({playlist:o,index:d,currentTime:Math.floor(x)}))}catch(e){}},[o,d,x,p]),(0,a.useEffect)(()=>{l.current||(l.current=new Audio,l.current.preload="metadata");let e=l.current,t=()=>m(e.currentTime||0),a=()=>v(e.duration||0),r=()=>{o.length>d+1?h(e=>e+1):n(!1)};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",a),e.addEventListener("ended",r),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",a),e.removeEventListener("ended",r)}},[d,o]),(0,a.useEffect)(()=>{let e=l.current;if(!e)return;let t=o[d]??i;t&&(e.src!==t.url&&(e.src=t.url,e.currentTime=0,e.load()),s&&e.play().catch(()=>n(!1)))},[d,o,i,s]);let j=(0,a.useCallback)(e=>{u([e]),h(0),c(e),b(!0),n(!0)},[]),N=(0,a.useCallback)((e,t=0)=>{e&&0!==e.length&&(u(e),h(Math.max(0,Math.min(t,e.length-1))),c(e[t]??null),b(!0),n(!0))},[]),k=(0,a.useCallback)(()=>{let e=l.current;e&&e.play().then(()=>n(!0)).catch(()=>n(!1))},[]),C=(0,a.useCallback)(()=>{let e=l.current;e&&(e.pause(),n(!1))},[]),w=(0,a.useCallback)(()=>{s?C():k()},[s,k,C]),S=(0,a.useCallback)(e=>{let t=l.current;t&&(t.currentTime=Math.max(0,Math.min(e,t.duration||0)),m(t.currentTime||0))},[]),M=(0,a.useCallback)(()=>{h(e=>{let t=e+1;return t<o.length?t:e})},[o.length]),E=(0,a.useCallback)(()=>{h(e=>Math.max(0,e-1))},[]),A=(0,a.useCallback)(e=>{let t=l.current;t&&(t.volume=Math.max(0,Math.min(1,e)))},[]),T=(0,a.useCallback)(()=>b(!1),[]),I=(0,a.useCallback)(()=>b(!0),[]);return(0,a.useEffect)(()=>{o.length>0&&c(o[d]??null)},[d,o]),(0,t.jsx)(r.Provider,{value:{playing:s,current:i,playlist:o,index:d,currentTime:x,duration:f,open:g,playTrack:j,playPlaylist:N,play:k,pause:C,toggle:w,seek:S,next:M,prev:E,setVolume:A,closePlayer:T,openPlayer:I},children:e})};e.s(["AudioProvider",0,l,"default",0,l,"useInternalAudio",0,()=>{let e=a.default.useContext(r);if(!e)throw Error("useInternalAudio must be used within AudioProvider");return e}])},83188,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(2184);function l(e){if(!isFinite(e)||e<=0)return"0:00";let t=Math.floor(e/60),a=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${a}`}function s({progress:e}){return(0,t.jsx)("div",{className:"flex items-end justify-center gap-0.5 h-6",children:Array.from({length:20}).map((a,r)=>{let l=60*Math.random()+20,s=r/20<e;return(0,t.jsx)("div",{className:`w-0.5 rounded-full transition-colors ${s?"bg-white":"bg-gray-600"} ${l<30?"h-2":l<50?"h-4":"h-5"}`},r)})})}function n(){let e=(0,r.useInternalAudio)(),{current:n,playing:i,toggle:c,currentTime:o,duration:u,seek:d,next:h,prev:x,playlist:m,open:f,closePlayer:v}=e,[g,b]=(0,a.useState)(!1),p=(0,a.useMemo)(()=>u&&0!==u?Math.max(0,Math.min(1,o/u)):0,[o,u]);return n?(0,t.jsx)("div",{className:`fixed left-4 right-4 bottom-4 z-50 transform transition-all duration-300 ${f?"translate-y-0 opacity-100":"translate-y-6 opacity-0 pointer-events-none"}`,"aria-live":"polite",children:(0,t.jsxs)("div",{className:"bg-black/90 border border-gray-800 rounded-lg backdrop-blur-md shadow-lg overflow-hidden hover:border-gray-700 transition-colors",children:[(0,t.jsx)("div",{className:"px-4 pt-2 pb-1",children:(0,t.jsx)(s,{progress:p})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white truncate",children:n.title??"Unknown track"}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:n.artist??"SIGIL.ZERO"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:x,className:"p-2 text-gray-300 hover:text-white transition-colors disabled:opacity-50",disabled:m.length<=1,children:"◀◀"}),(0,t.jsx)("button",{onClick:c,className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:bg-gray-200 transition-colors transform hover:scale-110",children:i?"❚❚":"▶"}),(0,t.jsx)("button",{onClick:h,className:"p-2 text-gray-300 hover:text-white transition-colors disabled:opacity-50",disabled:m.length<=1,children:"▶▶"})]})]}),(0,t.jsx)("div",{className:"px-4 pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[(0,t.jsx)("div",{className:"w-12 text-right",children:l(o)}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{"aria-label":"seek",type:"range",min:0,max:u||0,step:.01,value:g?void 0:o,onChange:e=>{let t=Number(e.target.value);b(!0),d(t)},onMouseUp:()=>b(!1),onTouchEnd:()=>b(!1),className:"w-full cursor-pointer hover:accent-white"})}),(0,t.jsx)("div",{className:"w-12 text-left",children:l(u)})]})}),(0,t.jsxs)("div",{className:"px-4 py-2 border-t border-gray-800 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:m.length>1?`${e.index+1}/${m.length}`:""}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>e.setVolume?.(0),className:"text-gray-400 text-xs hover:text-white transition-colors",children:"Mute"}),(0,t.jsx)("button",{onClick:v,className:"text-gray-400 text-xs hover:text-white transition-colors",children:"Close"})]})]})]})}):null}e.s(["default",()=>n])}]);