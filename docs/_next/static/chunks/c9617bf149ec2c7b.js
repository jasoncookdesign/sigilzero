(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20738,e=>{"use strict";var t=e.i(43476),r=e.i(39964),a=e.i(32806);function s({mixtape:e,artist:s}){return(0,t.jsx)(r.Card,{href:`/mixtapes/${e.slug}`,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"relative w-full h-48 overflow-hidden bg-gray-900",children:(0,t.jsx)(a.default,{src:e.cover_image,alt:e.title,width:400,height:300,fill:!0,placeholderText:e.title,className:"object-cover"})}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("h3",{className:"h-sm mb-2",children:e.title}),(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:e.date}),s&&(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.platform,e.event_name&&` \xb7 ${e.event_name}`,e.location&&` \xb7 ${e.location}`]})]})]})})}e.s(["default",()=>s])},64643,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(20738);function s({mixtapes:e,artists:s}){let[l,i]=(0,r.useState)(""),[o,n]=(0,r.useState)("all"),[d,c]=(0,r.useState)("all"),[m,g]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[h,b]=(0,r.useState)([]),[p,f]=(0,r.useState)("all"),y=(0,r.useMemo)(()=>Object.fromEntries(s.map(e=>[e.meta.id,e.meta])),[s]),v=(0,r.useMemo)(()=>s.map(e=>e.meta).sort((e,t)=>e.name.localeCompare(t.name)),[s]),j=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.platform))).sort(),[e]),N=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),w=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),C=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.tags))).sort(),[e]),S=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.date).getFullYear()))).sort((e,t)=>t-e),[e]),k=(0,r.useMemo)(()=>{var t;let r;return t={query:l,artistIds:"all"===o?void 0:[o],platforms:"all"===d?void 0:[d],genres:m.length>0?m:void 0,moods:x.length>0?x:void 0,tags:h.length>0?h:void 0,year:"all"===p?void 0:parseInt(p,10)},r=t.query?.trim()??"",e.filter(({meta:e})=>(!r||!!function(e,t){let r=e.toLowerCase(),a=t.toLowerCase().trim();if(!a||r.includes(a))return!0;let s=0;for(let e=0;e<a.length;e++){let t=a.charAt(e),l=r.indexOf(t,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.event_name??"",e.location??"",e.artist_id].join(" "),r))&&(!t.artistIds||!(t.artistIds.length>0)||!!t.artistIds.includes(e.artist_id))&&(!t.platforms||!(t.platforms.length>0)||!!t.platforms.includes(e.platform))&&(!t.genres||!(t.genres.length>0)||!!e.genres.some(e=>t.genres.includes(e)))&&(!t.moods||!(t.moods.length>0)||!!e.moods.some(e=>t.moods.includes(e)))&&(!t.tags||!(t.tags.length>0)||!!e.tags.some(e=>t.tags.includes(e)))&&(!t.year||new Date(e.date).getFullYear()===t.year)&&!0)},[e,l,o,d,m,x,h,p]),M=l||"all"!==o||"all"!==d||m.length>0||x.length>0||h.length>0||"all"!==p,A=()=>{i(""),n("all"),c("all"),g([]),u([]),b([]),f("all")};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Mixtapes"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search titles, events, locations, or artists...",value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[(0,t.jsxs)("select",{"aria-label":"Filter by artist",value:o,onChange:e=>n(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All artists"}),v.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by platform",value:d,onChange:e=>c(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All platforms"}),j.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{"aria-label":"Filter by year",value:p,onChange:e=>f(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All years"}),S.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),N.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:N.map(e=>(0,t.jsx)("button",{onClick:()=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${m.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),w.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,t.jsx)("button",{onClick:()=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${x.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),C.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>(0,t.jsx)("button",{onClick:()=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${h.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),M&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:k.length})," of"," ",(0,t.jsx)("span",{className:"font-semibold",children:e.length})," mixtapes"]}),(0,t.jsx)("button",{onClick:A,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(({meta:e})=>{let r=y[e.artist_id]??null;return(0,t.jsx)(a.default,{mixtape:e,artist:r},e.id)})}),0===k.length&&(0,t.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No mixtapes match the current filters. ",(0,t.jsx)("button",{onClick:A,className:"underline hover:text-white",children:"Clear filters"})]})]})}e.s(["default",()=>s],64643)}]);