(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68889,e=>{"use strict";var t=e.i(43476);function r({children:e,className:r=""}){return(0,t.jsx)("section",{className:`py-8 section-band ${r}`,children:e})}e.s(["default",()=>r])},20738,e=>{"use strict";var t=e.i(43476),r=e.i(39964),a=e.i(32806);function s({mixtape:e,artist:s}){return(0,t.jsx)(r.Card,{href:`/mixtapes/${e.slug}`,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"relative w-full h-48 overflow-hidden bg-gray-900",children:(0,t.jsx)(a.default,{src:e.cover_image,alt:e.title,width:400,height:300,fill:!0,placeholderText:e.title,className:"object-cover"})}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("h3",{className:"h-sm mb-2",children:e.title}),(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:e.date}),s&&(0,t.jsx)("div",{className:"mb-2 text-sm text-muted",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.platform,e.event_name&&` \xb7 ${e.event_name}`,e.location&&` \xb7 ${e.location}`]})]})]})})}e.s(["default",()=>s])},64643,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(20738),s=e.i(68889);function l({mixtapes:e,artists:l}){let[i,o]=(0,r.useState)(""),[n,d]=(0,r.useState)("all"),[c,m]=(0,r.useState)("all"),[x,g]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[b,p]=(0,r.useState)([]),[f,y]=(0,r.useState)("all"),v=(0,r.useMemo)(()=>Object.fromEntries(l.map(e=>[e.meta.id,e.meta])),[l]),j=(0,r.useMemo)(()=>l.map(e=>e.meta).sort((e,t)=>e.name.localeCompare(t.name)),[l]),N=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.platform))).sort(),[e]),w=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),C=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),S=(0,r.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.tags))).sort(),[e]),k=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.date).getFullYear()))).sort((e,t)=>t-e),[e]),M=(0,r.useMemo)(()=>{var t;let r;return t={query:i,artistIds:"all"===n?void 0:[n],platforms:"all"===c?void 0:[c],genres:x.length>0?x:void 0,moods:u.length>0?u:void 0,tags:b.length>0?b:void 0,year:"all"===f?void 0:parseInt(f,10)},r=t.query?.trim()??"",e.filter(({meta:e})=>(!r||!!function(e,t){let r=e.toLowerCase(),a=t.toLowerCase().trim();if(!a||r.includes(a))return!0;let s=0;for(let e=0;e<a.length;e++){let t=a.charAt(e),l=r.indexOf(t,s);if(-1===l)return!1;s=l+1}return!0}([e.title,e.event_name??"",e.location??"",e.artist_id].join(" "),r))&&(!t.artistIds||!(t.artistIds.length>0)||!!t.artistIds.includes(e.artist_id))&&(!t.platforms||!(t.platforms.length>0)||!!t.platforms.includes(e.platform))&&(!t.genres||!(t.genres.length>0)||!!e.genres.some(e=>t.genres.includes(e)))&&(!t.moods||!(t.moods.length>0)||!!e.moods.some(e=>t.moods.includes(e)))&&(!t.tags||!(t.tags.length>0)||!!e.tags.some(e=>t.tags.includes(e)))&&(!t.year||new Date(e.date).getFullYear()===t.year)&&!0)},[e,i,n,c,x,u,b,f]),A=i||"all"!==n||"all"!==c||x.length>0||u.length>0||b.length>0||"all"!==f,$=()=>{o(""),d("all"),m("all"),g([]),h([]),p([]),y("all")};return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"container-sigil px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Mixtapes"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search titles, events, locations, or artists...",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[(0,t.jsxs)("select",{"aria-label":"Filter by artist",value:n,onChange:e=>d(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All artists"}),j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{"aria-label":"Filter by platform",value:c,onChange:e=>m(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All platforms"}),N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{"aria-label":"Filter by year",value:f,onChange:e=>y(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,t.jsx)("option",{value:"all",children:"All years"}),k.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),w.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,t.jsx)("button",{onClick:()=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${x.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),C.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>(0,t.jsx)("button",{onClick:()=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${u.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),S.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,t.jsx)("button",{onClick:()=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),A&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:M.length})," of"," ",(0,t.jsx)("span",{className:"font-semibold",children:e.length})," mixtapes"]}),(0,t.jsx)("button",{onClick:$,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(({meta:e})=>{let r=v[e.artist_id]??null;return(0,t.jsx)(a.default,{mixtape:e,artist:r},e.id)})}),0===M.length&&(0,t.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No mixtapes match the current filters. ",(0,t.jsx)("button",{onClick:$,className:"underline hover:text-white",children:"Clear filters"})]})]})})}e.s(["default",()=>l],64643)}]);