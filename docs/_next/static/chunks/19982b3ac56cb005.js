(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97591,e=>{"use strict";var r=e.i(43476),s=e.i(39964),a=e.i(32806);function t({release:e,series:t}){return(0,r.jsx)(s.Card,{href:`/releases/${e.slug}`,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative w-full h-48 overflow-hidden bg-gray-900",children:(0,r.jsx)(a.default,{src:e.cover_art,alt:e.title,width:400,height:300,fill:!0,placeholderText:e.catalog_number,className:"object-cover"})}),(0,r.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,r.jsx)("div",{className:"text-label mb-2",children:e.catalog_number}),(0,r.jsx)("h3",{className:"h-sm mb-2 line-clamp-2",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-muted",children:[t?t.name:e.series_id," â€¢ ",e.release_date]})]})]})})}e.s(["default",()=>t])},96769,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(97591);function t({releases:e,seriesRegistry:t,artists:l}){let[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)("all"),[c,m]=(0,s.useState)("all"),[u,g]=(0,s.useState)("all"),[x,b]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[y,f]=(0,s.useState)("all"),[v,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),M=(0,s.useMemo)(()=>Object.fromEntries(t.map(e=>[e.id,e])),[t]);(0,s.useMemo)(()=>Object.fromEntries(l.map(e=>[e.meta.id,e.meta])),[l]);let C=(0,s.useMemo)(()=>Array.from(new Set(e.map(e=>e.meta.type))).sort(),[e]),S=(0,s.useMemo)(()=>l.map(e=>e.meta).sort((e,r)=>e.name.localeCompare(r.name)),[l]),_=(0,s.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.genres))).sort(),[e]),I=(0,s.useMemo)(()=>Array.from(new Set(e.flatMap(e=>e.meta.moods))).sort(),[e]),k=(0,s.useMemo)(()=>Array.from(new Set(e.map(e=>new Date(e.meta.release_date).getFullYear()))).sort((e,r)=>r-e),[e]),A=(0,s.useMemo)(()=>{var r;let s;return r={query:i,seriesIds:"all"===o?void 0:[o],types:"all"===c?void 0:[c],artistIds:"all"===u?void 0:[u],genres:x.length>0?x:void 0,moods:p.length>0?p:void 0,year:"all"===y?void 0:parseInt(y,10),bpmMin:v?parseInt(v,10):void 0,bpmMax:N?parseInt(N,10):void 0},s=r.query?.trim()??"",e.filter(({meta:e,body:a})=>{if(s&&!function(e,r){let s=e.toLowerCase(),a=r.toLowerCase().trim();if(!a||s.includes(a))return!0;let t=0;for(let e=0;e<a.length;e++){let r=a.charAt(e),l=s.indexOf(r,t);if(-1===l)return!1;t=l+1}return!0}([e.title,e.catalog_number,...e.tracks.map(e=>e.title),...e.primary_artists,...e.remix_artists].join(" "),s)||r.seriesIds&&r.seriesIds.length>0&&!r.seriesIds.includes(e.series_id)||r.types&&r.types.length>0&&!r.types.includes(e.type)||r.artistIds&&r.artistIds.length>0&&![...e.primary_artists,...e.remix_artists].some(e=>r.artistIds.includes(e))||r.genres&&r.genres.length>0&&!e.genres.some(e=>r.genres.includes(e))||r.moods&&r.moods.length>0&&!e.moods.some(e=>r.moods.includes(e))||r.year&&new Date(e.release_date).getFullYear()!==r.year)return!1;if(void 0!==r.bpmMin||void 0!==r.bpmMax){let s=function(e){if(!e)return null;let r=e.match(/(\d+)\s*-\s*(\d+)/);return r&&r[1]&&r[2]?{min:parseInt(r[1],10),max:parseInt(r[2],10)}:null}(e.bpm_range);if(!s)return!1;let a=s.min,t=s.max,l=r.bpmMin??0,i=r.bpmMax??300;if(t<l||a>i)return!1}return!0})},[e,i,o,c,u,x,p,y,v,N]),F=i||"all"!==o||"all"!==c||"all"!==u||x.length>0||p.length>0||"all"!==y||v||N,O=()=>{n(""),d("all"),m("all"),g("all"),b([]),h([]),f("all"),j(""),w("")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-4xl mb-6 text-center",children:"Releases"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Search titles, catalog #, tracks, or artists...",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-4",children:[(0,r.jsxs)("select",{"aria-label":"Filter by series",value:o,onChange:e=>d(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All series"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.short_label??e.name},e.id))]}),(0,r.jsxs)("select",{"aria-label":"Filter by type",value:c,onChange:e=>m(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All types"}),C.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{"aria-label":"Filter by artist",value:u,onChange:e=>g(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All artists"}),S.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("select",{"aria-label":"Filter by year",value:y,onChange:e=>f(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All years"}),k.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:[(0,r.jsx)("input",{type:"number",placeholder:"Min BPM",value:v,onChange:e=>j(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",min:"0",max:"300"}),(0,r.jsx)("input",{type:"number",placeholder:"Max BPM",value:N,onChange:e=>w(e.target.value),className:"px-2 py-1 rounded border border-gray-700 bg-gray-950 text-sm focus:outline-none focus:border-gray-600",min:"0",max:"300"})]}),_.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Genres"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map(e=>(0,r.jsx)("button",{onClick:()=>{b(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${x.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),I.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:"Moods"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:I.map(e=>(0,r.jsx)("button",{onClick:()=>{h(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${p.includes(e)?"bg-white text-black border border-white":"bg-gray-900 text-gray-300 border border-gray-700 hover:border-gray-600"}`,children:e},e))})]}),F&&(0,r.jsx)("div",{className:"mb-6 p-3 bg-gray-900 rounded border border-gray-800",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,r.jsx)("span",{className:"font-semibold",children:A.length})," of"," ",(0,r.jsx)("span",{className:"font-semibold",children:e.length})," releases"]}),(0,r.jsx)("button",{onClick:O,className:"px-3 py-1 text-sm bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors border border-gray-700",children:"Clear filters"})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(({meta:e})=>{let s=M[e.series_id]??null;return(0,r.jsx)(a.default,{release:e,series:s},e.id)})}),0===A.length&&(0,r.jsxs)("p",{className:"mt-4 text-sm opacity-70",children:["No releases match the current filters. ",(0,r.jsx)("button",{onClick:O,className:"underline hover:text-white",children:"Clear filters"})]})]})}e.s(["default",()=>t],96769)}]);